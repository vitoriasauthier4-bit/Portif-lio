(self.modernJsonp=self.modernJsonp||[]).push([["96415"],{633301:function(e,t,i){i.d(t,{Z:()=>y});var n=i(216019),s=i(70443),r=i(920727);function o(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}i(45697);var a=i(667294),l=i(973935),c=i(500220),d="unmounted",u="exited",p="entering",h="entered",m="exiting",f=function(e){function t(t,i){var n,s=e.call(this,t,i)||this,r=i&&!i.isMounting?t.enter:t.appear;return s.appearStatus=null,t.in?r?(n=u,s.appearStatus=p):n=h:n=t.unmountOnExit||t.mountOnEnter?d:u,s.state={status:n},s.nextCallback=null,s}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:u}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var i=this.state.status;this.props.in?i!==p&&i!==h&&(t=p):(i===p||i===h)&&(t=m)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,i,n=this.props.timeout;return e=t=i=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,i=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:i}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===p?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===u&&this.setState({status:d})},i.performEnter=function(e){var t=this,i=this.props.enter,n=this.context?this.context.isMounting:e,s=this.props.nodeRef?[n]:[l.findDOMNode(this),n],r=s[0],o=s[1],a=this.getTimeouts(),c=n?a.appear:a.enter;if(!e&&!i)return void this.safeSetState({status:h},function(){t.props.onEntered(r)});this.props.onEnter(r,o),this.safeSetState({status:p},function(){t.props.onEntering(r,o),t.onTransitionEnd(c,function(){t.safeSetState({status:h},function(){t.props.onEntered(r,o)})})})},i.performExit=function(){var e=this,t=this.props.exit,i=this.getTimeouts(),n=this.props.nodeRef?void 0:l.findDOMNode(this);if(!t)return void this.safeSetState({status:u},function(){e.props.onExited(n)});this.props.onExit(n),this.safeSetState({status:m},function(){e.props.onExiting(n),e.onTransitionEnd(i.exit,function(){e.safeSetState({status:u},function(){e.props.onExited(n)})})})},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,i=!0;return this.nextCallback=function(n){i&&(i=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var i=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(!i||n)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],r=s[0],o=s[1];this.props.addEndListener(r,o)}null!=e&&setTimeout(this.nextCallback,e)},i.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,i=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,s.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(c.Z.Provider,{value:null},"function"==typeof i?i(e,n):a.cloneElement(a.Children.only(i),n))},t}(a.Component);function x(){}f.contextType=c.Z,f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:x,onEntering:x,onEntered:x,onExit:x,onExiting:x,onExited:x},f.UNMOUNTED=d,f.EXITED=u,f.ENTERING=p,f.ENTERED=h,f.EXITING=m;var g=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))})},b=function(e){function t(){for(var t,i=arguments.length,n=Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,i){var n=t.resolveArguments(e,i),s=n[0],r=n[1];t.removeClasses(s,"exit"),t.addClass(s,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,i)},t.onEntering=function(e,i){var n=t.resolveArguments(e,i),s=n[0],r=n[1];t.addClass(s,r?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,i)},t.onEntered=function(e,i){var n=t.resolveArguments(e,i),s=n[0],r=n[1]?"appear":"enter";t.removeClasses(s,r),t.addClass(s,r,"done"),t.props.onEntered&&t.props.onEntered(e,i)},t.onExit=function(e){var i=t.resolveArguments(e)[0];t.removeClasses(i,"appear"),t.removeClasses(i,"enter"),t.addClass(i,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var i=t.resolveArguments(e)[0];t.addClass(i,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var i=t.resolveArguments(e)[0];t.removeClasses(i,"exit"),t.addClass(i,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,i){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,i]},t.getClassNames=function(e){var i=t.props.classNames,n="string"==typeof i,s=n&&i?i+"-":"",r=n?""+s+e:i[e],o=n?r+"-active":i[e+"Active"],a=n?r+"-done":i[e+"Done"];return{baseClassName:r,activeClassName:o,doneClassName:a}},t}(0,r.Z)(t,e);var i=t.prototype;return i.addClass=function(e,t,i){var n,s=this.getClassNames(t)[i+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===i&&r&&(s+=" "+r),"active"===i&&e&&e.scrollTop,s&&(this.appliedClasses[t][i]=s,n=s,e&&n&&n.split(" ").forEach(function(t){e.classList?e.classList.add(t):(e.classList?t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}))},i.removeClasses=function(e,t){var i=this.appliedClasses[t],n=i.base,s=i.active,r=i.done;this.appliedClasses[t]={},n&&g(e,n),s&&g(e,s),r&&g(e,r)},i.render=function(){var e=this.props,t=(e.classNames,(0,s.Z)(e,["classNames"]));return a.createElement(f,(0,n.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(a.Component);b.defaultProps={classNames:""},b.propTypes={};let y=b},500220:function(e,t,i){i.d(t,{Z:()=>n});let n=i(667294).createContext(null)},442279:function(e,t){function i(e,t){return e===t}t.createSelector=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];var r=0,o=n.pop(),a=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return typeof e}).join(", ")+"]");return t}(n),l=e.apply(void 0,[function(){return r++,o.apply(void 0,arguments)}].concat(i)),c=function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),s=2;s<i;s++)n[s-2]=arguments[s];var r=a.map(function(i){return i.apply(void 0,[e,t].concat(n))});return l.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}(r))};return c.resultFunc=o,c.recomputations=function(){return r},c.resetRecomputations=function(){return r=0},c}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1],n=null,s=null;return function(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return null!==n&&n.length===r.length&&r.every(function(e,i){return t(e,n[i])})||(s=e.apply(void 0,r)),n=r,s}})},377733:function(e,t,i){i.r(t),i.d(t,{default:()=>I});var n=i(281098),s=i(667294),r=i(581722),o=i(20256),a=i(575108),l=i(785893);let c="cubic-bezier(0, 0, 0.58, 1)",d={loaded:{opacity:1,transitionDuration:"0.20s",transitionTimingFunction:c,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"},fade:{opacity:.1,transitionDuration:"0.30s",transitionTimingFunction:c,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"}};function u({reactionLabel:e,handleHideConfirmation:t}){(0,s.useEffect)(()=>{(0,n.Z)("ReactionConfirmation","/app/common/react/components/Reactions/ReactionConfirmation.tsx")},[]);let[i,r]=(0,s.useState)("loaded"),a=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e,i;return a.current=requestAnimationFrame(()=>{e=setTimeout(()=>r("fade"),1e3),i=setTimeout(()=>t(),1300)}),function(){clearTimeout(e),clearTimeout(i)}},[]),(0,l.jsx)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",children:(0,l.jsx)(o.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{...d[i],whiteSpace:"nowrap"}},display:"flex",height:20,justifyContent:"center",paddingX:2,paddingY:1,position:"absolute",rounding:"pill",zIndex:new o.Ry(2),children:(0,l.jsx)(o.xv,{color:"inverse",overflow:"normal",size:"100",weight:"bold",children:e})})})}var p=i(19585),h=i(369416),m=i(518459),f=i(601686);let x={icon:{backgroundRepeat:"no-repeat",backgroundSize:"cover"},loading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:"ease-out",transitionProperty:"transform, opacity",transform:"scaleX(1) scaleY(1) translateZ(0) translateY(25px)",transformOrigin:"bottom"},loaded:{opacity:1,transitionDuration:"0.2s",transitionTimingFunction:"ease-out",transitionProperty:"transform, opacity",transform:"scaleX(1) scaleY(1)",transformOrigin:"bottom"},clicked:{transition:"transform 0.2s ease-out",transform:"translateY(-30px) scaleX(1.6) scaleY(1.6)",transformOrigin:"bottom",position:"relative",zIndex:1},flying:{transition:"transform 0.2s ease-out",transformOrigin:"bottom"},label:{transition:"transform 0.2s ease-out",transform:"scale(0.625)",transformOrigin:"bottom",whiteSpace:"nowrap"},fading:{opacity:0,transition:"opacity 0.2s ease-out"}},g={boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)"};function b({reactionButtonRect:e,handleReactionTrayClick:t,shouldShowReactionTrayUp:i}){(0,s.useEffect)(()=>{(0,n.Z)("ReactionTray","/app/common/react/components/Reactions/ReactionTray.tsx")},[]);let r=(0,p.ZP)(),a=(0,s.useRef)(null),[c,d]=(0,s.useState)("loading"),[u,b]=(0,s.useState)(""),[y,_]=(0,s.useState)(),{closeupWithinMasonryEnabled:v}=(0,f.x4)(),[w,E]=(0,s.useState)(!1),[C,k]=(0,s.useState)(!1),[S,j]=(0,s.useState)({}),[P]=(0,s.useState)(e),[A,I]=(0,s.useState)(-150),T=(0,s.useRef)(void 0),R=(0,s.useRef)({}),Z=a.current?.getBoundingClientRect();(0,s.useEffect)(()=>{Z?.right&&Z?.right>(window.innerWidth||document.documentElement?.clientWidth)&&(-276!==A?k(!0):k(!1),I(-276))},[Z?.right,A,v]),(0,s.useEffect)(()=>{"loading"===c&&(T.current=requestAnimationFrame(()=>d("loaded"))),E(!0);let e={...S};m.Jg.forEach(t=>{R.current[t]&&(!e[t]||C)&&(e[t]=R.current[t].getBoundingClientRect())}),Object.keys(e).length===m.Jg.length&&j(e),!y&&w&&(()=>{let e={...y};m.Jg.forEach(t=>{let i=S[t],{left:n,top:s}=P,{left:r,top:o}=i;e[t]={translateX:n-r+-8,translateY:s-o+9}}),_(e)})()},[w,A,e]);let O=()=>{"clicked"===c&&u&&(d("flying"),setTimeout(()=>{t(u)},750))},L=m.Jg.map((e,t)=>{let{staticAsset:i,animatedAsset:n,label:s,htmlStyle:a,animationStyle:d}=(0,m.fW)(e,r),p={loadedStyle:{transitionDelay:`${.08*t}s`,...x[c]},clickedStyle:{...u===e?x.clicked:x.loaded},flyingStyle:{...y&&u===e?{transform:`translateZ(0) translateX(${y[e].translateX}px) translateY(${y[e].translateY}px) scaleX(0.6) scaleY(0.6) `,...x[c]}:x.fading}},f={};return"loading"===c||"loaded"===c?f={...p.loadedStyle}:"clicked"===c?f={...p.clickedStyle}:"flying"===c&&(f={...p.flyingStyle}),(0,l.jsx)(o.xu,{alignSelf:"center",display:"flex",justifyContent:"between",children:(0,l.jsxs)(o.xu,{ref:t=>{R.current[e]=t},alignItems:"center",dangerouslySetInlineStyle:{__style:{...f}},display:"flex",justifyContent:"center",maxHeight:40,maxWidth:40,overflow:"visible",position:"relative",children:[u!==e&&(0,l.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${i})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},height:40,width:40})}),(0,l.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",position:"relative",children:[(0,l.jsx)(h.Z,{unsafeCSS:a}),u===e&&"clicked"===c&&(0,l.jsx)(o.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:x.label},display:"flex",height:20,justifyContent:"center",paddingX:2,paddingY:1,rounding:"pill",children:(0,l.jsx)(o.xv,{color:"inverse",overflow:"normal",size:"100",weight:"bold",children:s})}),(0,l.jsx)("div",{onClick:O,onKeyDown:O,role:"presentation",children:(0,l.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...x.icon,...u===e&&"clicked"===c?{animation:d}:{},backgroundImage:`url(${n})`}},display:"flex",height:40,justifyContent:"center",width:40})})]})]})},t)});return(0,l.jsx)(o.xu,{ref:a,alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:v?void 0:A,marginTop:!v&&i?-(80+P.height):0}},display:"flex",justifyContent:"center",position:v?void 0:"absolute",children:(0,l.jsx)(o.xu,{alignItems:"center",color:"flying"===c?"transparent":"default",dangerouslySetInlineStyle:{__style:{...!v&&"flying"!==c?g:{}}},display:"flex",height:80,justifyContent:"center",onMouseMove:e=>{let{clientX:t}=e;if(a.current){let e=v?t-a.current.getBoundingClientRect().left:t;if("flying"!==c){let t,i=(w&&m.Jg.forEach(i=>{let n=S[i];if(n&&n.left&&n.right){let{left:s,right:r}=n;e>=s&&e<=r&&(t=i)}}),t||null);i!==u&&b(i),d("clicked")}}},rounding:"pill",width:300,children:(0,l.jsx)(o.xu,{alignItems:"center",display:"flex",justifyContent:"around",paddingX:5,width:"100%",children:L})})})}var y=i(980787),_=i(679422),v=i(937392),w=i(821342),E=i(675973),C=i(448505),k=i(7872),S=i(611499),j=i(581290);function P(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class A extends s.PureComponent{constructor(...e){super(...e),P(this,"state",{isConfirmationShowing:!1,isHoveringOverTray:!1,isReactionTrayShowing:!1,reactionButtonRect:null}),P(this,"reactionButtonRef",(0,s.createRef)()),P(this,"trayOpenTimer",null),P(this,"trayCloseTimer",null),P(this,"isHoveringOverButton",!1),P(this,"handleReactForAuthViewer",(e=7)=>{let{clientTrackingParams:t,pinId:i,pinUpdateReactionCount:n,reactionByMe:s}=this.props,r={pin_id:i,reaction_type:e,client_tracking_params:t,...this.props.orbacSubjectId?{orbac_subject_id:this.props.orbacSubjectId}:Object.freeze({})};s&&n(i,!1,s),n(i,!0,e),a.Z.create("ReactionsResource",r).callUpdate()}),P(this,"handleUnreactForAuthViewer",()=>{let{clientTrackingParams:e,pinId:t}=this.props,i={pin_id:t,client_tracking_params:e,...this.props.orbacSubjectId?{orbac_subject_id:this.props.orbacSubjectId}:Object.freeze({})};a.Z.create("ReactionsResource",i).callDelete()}),P(this,"setReactionButtonRect",()=>{if(this.reactionButtonRef?.current&&this.reactionButtonRef.current instanceof HTMLElement){let e=this.reactionButtonRef.current.getBoundingClientRect();this.setState({reactionButtonRect:e})}}),P(this,"closeTray",()=>{let{handleReactionTrayHover:e}=this.props;this.setState({isReactionTrayShowing:!1}),e&&e(!1)}),P(this,"startTrayCloseTimer",()=>{this.trayCloseTimer&&clearTimeout(this.trayCloseTimer),this.trayCloseTimer=setTimeout(()=>{let{isHoveringOverTray:e}=this.state;e||this.isHoveringOverButton||this.closeTray()},300)}),P(this,"handleOnHoverTray",()=>{this.setState({isHoveringOverTray:!0})}),P(this,"handleExitTrayWithDelay",()=>{this.setState({isHoveringOverTray:!1}),this.startTrayCloseTimer()}),P(this,"handleClickButton",()=>{let{clientTrackingParams:e,requireAuth:t,component:i,pinId:n,pinUpdateReactionCount:s,reactionByMe:r,viewParameter:o,viewType:a,logContextEvent:l}=this.props;r?(s(n,!1,r),t?t():this.handleUnreactForAuthViewer()):this.setReaction("love"),this.closeTray(),l({event_type:101,view_type:a||3,view_parameter:o||139,...i?{component:i}:Object.freeze({}),element:11354,object_id_str:n,clientTrackingParams:e})}),P(this,"setReaction",e=>{let{requireAuth:t,i18n:i}=this.props;t?t():this.handleReactForAuthViewer((0,m.fW)(e,i).type),this.handleShowConfirmation()}),P(this,"handleShowConfirmation",()=>{this.setState({isConfirmationShowing:!0})}),P(this,"handleHideConfirmation",()=>{this.setState({isConfirmationShowing:!1},this.startTrayCloseTimer)})}componentDidMount(){this.setReactionButtonRect(),window.addEventListener("mouseover",this.setReactionButtonRect)}componentWillUnmount(){this.trayOpenTimer&&clearTimeout(this.trayOpenTimer),this.trayCloseTimer&&clearTimeout(this.trayCloseTimer),window.removeEventListener("mouseover",this.setReactionButtonRect)}render(){let{isReactionTrayShowing:e,reactionButtonRect:t,isConfirmationShowing:i}=this.state,{iconColor:n="darkGray",idealDirection:s,reactionByMe:r,shouldShowReactionTrayUp:a=!1,showTooltip:c,closeupWithinMasonryEnabled:d}=this.props,p=r&&m.GY[r]?m.GY[r]:"default",{label:h}=(0,m.fW)(p,this.props.i18n,n),f=e&&!!t&&!!t.left&&!!t.top&&(0,l.jsx)(b,{handleReactionTrayClick:this.setReaction,reactionButtonRect:t,shouldShowReactionTrayUp:a}),x=this.props.i18n.bt("Reagir", "React", "Closeup.ReactionPicker.Icon", undefined, true);return(0,l.jsxs)(o.xu,{position:"relative",children:[(0,l.jsx)(o.hU,{accessibilityLabel:x,dataTestId:"react-button",icon:r?"heart":"heart-outline",iconColor:r?"red":void 0,onClick:this.handleClickButton,tooltip:{text:x}}),c&&!e&&!i&&(0,l.jsx)(v.mc,{anchor:this.reactionButtonRef?.current,experienceIds:[501977,501995],flyoutSize:"sm",idealDirection:"down",placementId:12}),e&&!!t&&!!t.left&&!!t.top&&(0,l.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(o.Le,{top:0,children:(0,l.jsx)(o.iP,{onMouseEnter:this.handleOnHoverTray,onMouseLeave:this.handleExitTrayWithDelay,onTap:this.handleExitTrayWithDelay,children:d?(0,l.jsx)(o.mh,{zIndex:new o.Ry(S.rv),children:(0,l.jsx)(o.J2,{__overflow:"visible",anchor:this.reactionButtonRef?.current,idealDirection:s,onDismiss:this.closeTray,positionRelativeToAnchor:!1,size:"xl",children:f})}):f})})}),!d&&i&&!!r&&h&&(0,l.jsx)(u,{handleHideConfirmation:this.handleHideConfirmation,reactionLabel:h})]})}}function I(e){(0,s.useEffect)(()=>{(0,n.Z)("ReactionPickerContainer","/app/common/react/components/Reactions/ReactionPickerContainer.tsx")},[]);let{logContextEvent:t}=(0,y.u)(),i=(0,p.ZP)(),o=(0,_.Z)(),a=(0,C.Z)(),c=(0,w.Z)(),d=(0,k.lJ)(c,a),u=(0,r.I0)(),{closeupWithinMasonryEnabled:h}=(0,f.x4)(),{checkExperiment:m}=(0,E.Z)();return(0,l.jsx)(A,{...e,checkExperiment:m,closeupWithinMasonryEnabled:h,i18n:i,logContextEvent:t,orbacSubjectId:d,pinUpdateReactionCount:(e,t,i)=>u((0,j.fA)(e,t,i)),requireAuth:o})}},718144:function(e,t,i){i.r(t),i.d(t,{default:()=>A});var n=i(281098),s=i(667294),r=i(20256),o=i(575108),a=i(111330),l=i(980787),c=i(270001),d=i(355940),u=i(564325),p=i(475498),h=i(821342),m=i(19585),f=i(302148),x=i(15667),g=i(886981),b=i(821806),y=i(600861),_=i(753143),v=i(694955),w=i(87853),E=i(647709),C=i(252564),k=i(603316),S=i(785893);let j=(0,s.lazy)(()=>i.e("19489").then(i.bind(i,597772))),P=new r.H3([C.Z]);function A({handleComplete:e,isNag:t}){(0,s.useEffect)(()=>{(0,n.Z)("Banner","/app/packages/CookieConsent/Banner.tsx")},[]);let i=(0,E.ZP)(),C=(0,h.Z)(),{logContextEvent:A}=(0,l.u)(),I=(0,s.useContext)(u.r),T=I?.setObserverRef||(()=>{}),R=(0,m.ZP)(),Z=(0,s.useCallback)(()=>C.isAuth?13716:15456,[C.isAuth]),O=(0,s.useCallback)(()=>C.isAuth?474:747,[C.isAuth]),[L,z]=(0,s.useState)(!0),[D,M]=(0,s.useState)(!1),{showOneToast:B}=(0,w.dI)(),N=(0,g.Z)({name:"UserResource",options:{user_id:C.isAuth&&C.id||""}}),F=(0,x.B)(),W="desktop"===i;(0,s.useEffect)(()=>{A({event_type:13,component:Z(),view_type:O()})},[A,Z,O]);let H=e=>{(0,c.KP)(F),(0,_.M0)().setItem(a.iv,{[F.unauthId]:{allow_analytic_cookies:e.allow_analytic_cookies??!1,allow_marketing_cookies:e.allow_marketing_cookies??!1,allow_personalization_cookies:e.allow_personalization_cookies??!1}})},U=(0,S.jsxs)(r.xv,{align:W?"start":"center",children:[R.bt("Usamos cookies para exibir anúncios e experiências personalizados, e analisar o tráfego no nosso site.", "We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.", "homeFeed.cookiesConsentBanner.bannerText", undefined, true)," ",(0,f.nk)(R.bt("Leia nossa {{ cookiePolicyLink }} para saber mais informações.", "Read our {{ cookiePolicyLink }} for more information.", "homeFeed.cookiesConsentBanner.readCookiePolicyText", undefined, true),{cookiePolicyLink:(0,S.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,S.jsx)(r.rU,{display:"inlineBlock",href:v._Ib,target:"blank",underline:"hover",children:R.bt("política de cookies", "cookie policy", "homeFeed.cookiesConsentBanner.cookiePolicyLink", undefined, true)},"cookie-policy-link")})})]}),V=(0,S.jsxs)(r.kC,{direction:W?"row":"column",gap:W?{row:2,column:0}:{column:4,row:0},children:[(0,S.jsx)(r.zx,{fullWidth:!0,onClick:()=>{A({event_type:101,component:Z(),view_type:O(),element:11984}),(0,k.nP)("webapp.updateCookiePreferences",{sampleRate:.1,tags:{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_packages_CookieConsent_Banner_handleAcceptAll"}}),C.isAuth?o.Z.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:y.i.HOLISTIC_PROFILE_PROMPT}).callUpdate().then(()=>{N.refresh(),B(({hideToast:e})=>(0,S.jsx)(p.Z,{duration:3e3,onHide:e,text:R.bt("Suas preferências de cookies foram salvas. Você pode alterá-las nas configurações do seu perfil a qualquer momento.", "We saved your cookie preferences. You can change them in the settings section of your profile at any time.", "homeFeed.cookiesConsentBanner.acceptedAllToastText", undefined, true)})),e()}):(H({allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0}),B(({hideToast:e})=>(0,S.jsx)(p.Z,{duration:3e3,onHide:e,text:R.bt("Suas preferências de cookies foram salvas. Você pode alterá-las nas configurações do seu perfil a qualquer momento.", "We saved your cookie preferences. You can change them in the settings section of your profile at any time.", "homeFeed.cookiesConsentBanner.acceptedAllToastText", undefined, true)})),e())},size:W?"lg":"md",text:R.bt("Aceitar tudo", "Accept all", "navFooter.cookieConsentBanner.acceptAllButton", undefined, true)}),(0,S.jsx)(r.zx,{fullWidth:!0,onClick:()=>{A({event_type:101,component:Z(),view_type:O(),element:11985}),(0,k.nP)("webapp.updateCookiePreferences",{sampleRate:.1,tags:{allow_analytic_cookies:"false",allow_marketing_cookies:"false",allow_personalization_cookies:"false",location:"app_common_react_components_CookieConsent_Banner_handleRejectAll"}}),C.isAuth?o.Z.create("UserSettingsResource",{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1,surface_tag:y.i.HOLISTIC_PROFILE_PROMPT}).callUpdate().then(()=>{N.refresh(),B(({hideToast:e})=>(0,S.jsx)(p.Z,{duration:3e3,onHide:e,text:R.bt("Suas preferências de cookies foram salvas. Você pode alterá-las nas configurações do seu perfil a qualquer momento.", "We saved your cookie preferences. You can change them in the settings section of your profile at any time.", "homeFeed.cookiesConsentBanner.acceptedAllToastText", undefined, true)})),e()}):(H({allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1}),B(({hideToast:e})=>(0,S.jsx)(p.Z,{duration:3e3,onHide:e,text:R.bt("Suas preferências de cookies foram salvas. Você pode alterá-las nas configurações do seu perfil a qualquer momento.", "We saved your cookie preferences. You can change them in the settings section of your profile at any time.", "homeFeed.cookiesConsentBanner.acceptedAllToastText", undefined, true)})),e())},size:W?"lg":"md",text:R.bt("Rejeitar tudo", "Reject all", "navFooter.cookieConsentBanner.rejectAllButton", undefined, true)}),(0,S.jsx)(r.zx,{fullWidth:!0,onClick:()=>{A({event_type:101,component:Z(),view_type:O(),element:11986}),M(!0),W||z(!1)},size:W?"lg":"md",text:R.bt("Quero escolher", "Let me choose", "navFooter.cookieConsentBanner.manageCookiesButton", undefined, true)})]});return(0,S.jsxs)(s.Fragment,{children:[L&&(W?(0,S.jsx)(r.xu,{ref:T,paddingX:2,paddingY:2,smPaddingX:6,smPaddingY:2*!!t,children:(0,S.jsxs)(r.xu,{alignItems:"center",borderStyle:"sm",color:C.isAuth?"transparent":"elevationAccent","data-test-id":"cookie-consent-banner",direction:"column",display:"flex",justifyContent:"between",marginBottom:6*!t,overflow:"hidden",padding:t?3:6,position:"relative",rounding:4,smDirection:"row",children:[(0,S.jsx)(r.xu,{display:"flex",marginEnd:0,smMarginEnd:7,children:U}),(0,S.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"center",marginTop:4,smMarginTop:0,children:V})]})}):(0,S.jsx)(r.mh,{zIndex:P,children:(0,S.jsx)(r.xu,{ref:T,bottom:!0,marginBottom:2,position:"fixed",width:"100%",children:(0,S.jsxs)(r.xu,{alignItems:"center",borderStyle:"shadow",color:"default",direction:"column",display:"flex",marginEnd:"auto",marginStart:"auto",padding:6,rounding:6,width:"95%",children:[U,(0,S.jsx)(r.xu,{marginTop:4,minWidth:240,children:V})]})})})),D&&(0,S.jsx)(d.Z,{name:"SafeSuspense_CookieConsentBanner_SettingsModal",children:(0,S.jsx)(b.Z,{children:(0,S.jsx)(r.xu,{"data-test-id":"settings-modal",children:(0,S.jsx)(j,{dismissIcon:"cancel",handleComplete:e,onClose:()=>M(!1)})})})})]})}},270001:function(e,t,i){i.d(t,{Dr:()=>d,KP:()=>p,YS:()=>u,fw:()=>c});var n=i(111330),s=i(157322),r=i(675973),o=i(753143);let a=new Set(s.Z);function l(e){let{countryFromIp:t,countryFromHostName:i,regionFromIp:n}=e;return!!t&&a.has(t)||!!i&&a.has(i)||"CA-QC"===n}function c(e){return l(e)&&!(0,o.M0)().getItem(n.iv)?.[e.unauthId]}function d(e){let{checkExperiment:t}=(0,r.Z)();return l(e)&&(t("dweb_unauth_cookie_consent_modal").anyEnabled||t("dweb_unauth_cookie_consent_banner").anyEnabled)}function u(e){let{checkExperiment:t}=(0,r.Z)();return l(e)&&(t("mweb_unauth_cookie_consent_modal").anyEnabled||t("mweb_unauth_cookie_consent_banner").anyEnabled)}function p(e){(0,o.CS)({countryFromHostName:e.countryFromHostName||"",countryFromIp:e.countryFromIp||"",regionFromIp:e.regionFromIp,isAuthenticated:e.isAuthenticated,unauthId:e.unauthId,unauthConsent:!0})}},369416:function(e,t,i){i.d(t,{Z:()=>a});var n=i(281098),s=i(667294);i(441143);var r=i(785893);class o{static factory(e){return e instanceof o?e:new o(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function a(e){(0,s.useEffect)(()=>{(0,n.Z)("InlineStyle","/app/packages/InlineStyle.tsx")},[]);let{css:t,unsafeCSS:i,...a}=e,l=String(t||"")||i||"";return l?(0,r.jsx)("style",{...a,dangerouslySetInnerHTML:{__html:String(o.factory(l))}}):null}},530355:function(e,t,i){i.d(t,{Z:()=>n});function n(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},883817:function(e,t,i){i.d(t,{B_:()=>o,ej:()=>s,p8:()=>r});var n=i(20256);let s=new n.Ry(3),r=new n.H3([s]),o=new n.H3([r])},521009:function(e,t,i){i.d(t,{Z:()=>s});var n=i(980787);let s=()=>(0,n.u)().logContextEvent},667835:function(e,t,i){i.d(t,{F6:()=>b,Hs:()=>g,N$:()=>p,OW:()=>u,Ov:()=>h,Yc:()=>f,k7:()=>d,t4:()=>m,vs:()=>x});var n=i(667294),s=i(111330),r=i(15667),o=i(753143),a=i(941404),l=i(647709);let c="dark",d="rgba(17, 17, 17, 1)",u="rgba(17, 17, 17, 0)",p="rgb(43, 43, 43)",h="#767676",m="rgba(0,0,0, 0.8)",f=()=>(0,o.M0)().getItem(s.wg)===c;function x(){let e=(0,l.ml)(),{theme:t,isAuthenticated:i,referrerFromCookie:s}=(0,r.B)(),o=e&&t===c,[a,d]=(0,n.useState)(o);return(0,n.useEffect)(()=>{let e=o||i&&f();e&&(document.body.style.backgroundColor="#111111"),d(e)},[d,e,o,i,s]),a}let g=()=>{(0,o.M0)().setItem(s.wg,c),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},b=()=>{(0,o.M0)().removeItem(s.wg),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},118755:function(e,t,i){i.d(t,{Bx:()=>s,N4:()=>o,is:()=>a,lt:()=>n,oM:()=>r});let n=e=>e.bt("Você está quase lá! Entre para acessar todos os recursos do Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),s=e=>e.bt("Faça login para salvar esse Pin", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),r=e=>e.bt("Faça login para editar este Pin", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),o=({i18n:e,toFollow:t})=>t?e.bt("Faça login para seguir", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Faça login para deixar de seguir", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true),a=e=>e.bt("Faça login para criar um Pin ou uma pasta", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true)},679422:function(e,t,i){i.d(t,{Z:()=>o});var n=i(118755),s=i(19585),r=i(848387);let o=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:i}=(0,r.m)(),o=(0,s.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),i?.setText(t?.loginModalHeader||(0,n.lt)(o))}}},879592:function(e,t,i){i.d(t,{Z:()=>b});var n=i(281098),s=i(667294),r=i(20256),o=i(962988),a=i(894199),l=i(982166),c=i(949044),d=i(974705),u=i(47426),p=i(647709),h=i(25837),m=i(785893);let f=new r.Ry(h.fe),x=new r.H3([f]),g=({complete:e,dismiss:t,experience:{display_data:i},isMobile:n})=>{let{titleText:s,detailedText:o,completeButton:p,dismissButton:h}=(0,c.Z)(d.Z)(i),{setObserverRef:f}=(0,a.NQ)(),g=n?"center":"start",b=!!p&&(0,u.Z)({url:p.uri});return(0,m.jsx)(r.mh,{zIndex:x,children:(0,m.jsx)(l.ZP,{accessibilityModalLabel:s,footer:(0,m.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},display:"flex",justifyContent:n?"center":"end",children:[h&&(0,m.jsx)(r.xu,{fit:!0,flex:n?"grow":"none",minWidth:n?130:void 0,padding:1,children:(0,m.jsx)(r.zx,{color:"gray",fullWidth:n,onClick:t,size:"lg",text:h.text})}),p&&(0,m.jsx)(r.xu,{fit:!0,flex:n?"grow":"none",minWidth:n?130:void 0,padding:1,children:(0,m.jsx)(r.ZP,{color:"red",fullWidth:n,href:p.uri,onClick:()=>e(),rel:b?"nofollow":"none",size:"lg",text:p.text})})]}),heading:(0,m.jsx)(r.xu,{marginTop:2*!!n,children:(0,m.jsxs)(r.kC,{justifyContent:"between",children:[(0,m.jsx)(r.X6,{accessibilityLevel:1,size:"600",children:s}),!n&&(0,m.jsx)(r.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})]})}),onDismiss:t,size:"sm",children:(0,m.jsx)(r.xu,{ref:f,padding:6,children:(0,m.jsx)(r.xv,{align:g,children:o})})})})};function b({experience:e,placementId:t}){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceActionPrompt","/app/packages/experiences/Experiences/ExperienceActionPrompt/ExperienceActionPrompt.tsx")},[]);let i=(0,p.ml)(),{enableExperienceSession:r,endOnSurfaceChange:l}=(0,a.jQ)(t);return(0,m.jsx)(o.ZP,{eligibleTypes:[14],enableExperienceSession:r,experience:e,placementId:t,sessionEndOnSurfaceChange:l,children:({complete:e,dismiss:t,experience:n})=>(0,m.jsx)(g,{complete:e,dismiss:t,experience:n,isMobile:i})})}},437320:function(e,t,i){i.r(t),i.d(t,{default:()=>j});var n=i(281098),s=i(667294),r=i(633301),o=i(20256),a=i(718144),l=i(962988),c=i(894199),d=i(369416),u=i(949044),p=i(15667),h=i(974705),m=i(19585),f=i(875723),x=i(785893);let g=()=>{};function b({color:e,completeButtonText:t,completeButtonUrl:i,completeButtonUrlInNewTab:r,dismissButtonText:o,handleComplete:a=g,handleDismiss:l=g,header:c="",headerSubtitle:d=""}){(0,s.useEffect)(()=>{(0,n.Z)("Hero","/app/packages/ui/Hero.tsx")},[]);let u=(0,m.ZP)();return(0,x.jsx)(f.Z,{color:e,completeButtonText:t||u.bt("Ir", "Go", "Completing the Hero banner", undefined, true),completeUrl:i,dismissButtonText:o||u.bt("Fechar", "Close", "Closing a Hero banner", undefined, true),external:r,message:(c+" "+d).trim(),onComplete:a,onDismiss:l})}var y=i(341742);let _=function({handleDismiss:e=()=>{},header:t="",headerSubtitle:i="",dismissButtonText:n=""}){let s=(0,m.ZP)();return(0,x.jsx)(f.Z,{dismissButtonText:n||s.bt("Entendi", "Got it", "dismissButton.hero.dismissText", undefined, true),message:`${t} ${i}`,onDismiss:e})},v=function({color:e="default",completeButtonText:t,completeButtonUrl:i,completeButtonUrlInNewTab:n,handleComplete:s=()=>{},header:r="",headerSubtitle:o=""}){let a=(0,m.ZP)();return(0,x.jsx)(f.Z,{color:e,completeButtonText:t||a.bt("Ir", "Go", "Completing the Hero banner", undefined, true),completeUrl:i,external:n,message:(r+" "+o).trim(),onComplete:s})};var w=i(744862),E=i(821342),C=i(302148);function k({completeButtonText:e,headerSubtitle:t,handleComplete:i,handleDismiss:r}){(0,s.useEffect)(()=>{(0,n.Z)("WelcomeHero","/app/www/nux/WelcomeHero.tsx")},[]);let a=(0,m.ZP)(),l=(0,E.Z)(),c=l.isAuth?l?.avatar_color_index:void 0,{firstName:d="",imageLargeUrl:u=""}=l.isAuth?l:{};return(0,x.jsx)(o.xu,{display:"flex",justifyContent:"center",position:"relative",children:(0,x.jsxs)(o.xu,{alignItems:"center",borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{backgroundColor:"#EBF4FE"}},display:"flex",justifyContent:"between",marginBottom:2,marginEnd:8,marginStart:8,marginTop:4,padding:8,position:"relative",rounding:4,width:1016,children:[(0,x.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(o.xu,{marginBottom:-2,marginEnd:6,marginTop:-2,children:(0,x.jsx)(w.qE,{color:c,name:d,outline:!0,size:"lg",src:u})}),(0,x.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,x.jsx)(o.xu,{marginBottom:2,children:(0,x.jsx)(o.X6,{size:"400",children:(0,C.nk)(a.bt("Bem-vindo(a) de volta, {{ name }}", "Welcome back, {{ name }}", "shown on a banner, \"welcome back, first_name\"", undefined, true),{name:d})})}),(0,x.jsx)(o.xv,{children:t})]})]}),(0,x.jsx)(o.xu,{marginEnd:4,children:(0,x.jsx)(o.zx,{color:"white",onClick:i,size:"lg",text:e})}),(0,x.jsx)(o.xu,{padding:2,position:"absolute",right:!0,top:!0,children:(0,x.jsx)(o.hU,{accessibilityLabel:a.bt("Fechar", "Close", "accessible label for close button", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:r,size:"sm"})})]})})}let S=({complete:e,dismiss:t,experience:{display_data:i,experience_id:n},completeButtonUrl:l,onDismiss:d})=>{let[m,f]=(0,s.useState)(!1),g=(0,p.B)(),w=(0,s.useRef)(null);l&&(i.complete_button_url=l);let{setObserverRef:E}=(0,c.NQ)(),C=(e=>{switch(e){case 502597:return a.default;case 500863:return k;case 501153:case 501487:return v;default:return b}})(n),S={requestContext:g,experienceId:n,handleComplete:e,handleDismiss:()=>{d&&d(),t()},color:C===_?"dark":"infoBase",...(0,u.Z)(h.Z)(i)};(0,y.Z)(()=>{m||f(!0)});let j=(0,s.useCallback)((e=null)=>{E(e),w.current=e},[E]);return(0,x.jsx)(r.Z,{classNames:"ExperienceHero",in:m,nodeRef:w,timeout:400,unmountOnExit:!0,children:(0,x.jsx)(o.xu,{ref:j,marginBottom:4,children:(0,x.jsx)(C,{...S})})})};function j({completeButtonUrl:e,onDismiss:t,placementId:i}){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceHero","/app/packages/experiences/Experiences/ExperienceHero/ExperienceHero.tsx")},[]);let{enableExperienceSession:r,endOnSurfaceChange:o}=(0,c.jQ)(i),a=`
.ExperienceHero-enter {
  opacity: 0;
  transform: translateY(-50px);
}

.ExperienceHero-enter-active {
  opacity: 1;
  transform: none;
  transition: all 400ms ease-out;
}

.ExperienceHero-exit {
  opacity: 1;
}

.ExperienceHero-exit-active {
  opacity: 0;
  transition: opacity 400ms ease-out;
}
`;return(0,x.jsxs)(s.Fragment,{children:[(0,x.jsx)(d.Z,{unsafeCSS:a}),(0,x.jsx)(l.ZP,{eligibleTypes:[13],enableExperienceSession:r,placementId:i,sessionEndOnSurfaceChange:o,children:({complete:i,dismiss:n,experience:s})=>(0,x.jsx)(S,{complete:i,completeButtonUrl:e,dismiss:n,experience:s,onDismiss:t})})]})}},962988:function(e,t,i){i.d(t,{ZP:()=>b});var n=i(281098),s=i(667294),r=i(581722),o=i(521009),a=i(355940),l=i(877956),c=i(894199),d=i(108572),u=i(120944),p=i(341742),h=i(785893);function m(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class f extends s.Component{constructor(...e){super(...e),m(this,"state",{hasCompleted:[],hasDismissed:[]}),m(this,"experienceEligibility",!1),m(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:i,viewExperience:n,viewExperienceObject:s,session:r}=this.props;e&&"viewed"!==e.status&&(r?.startSession(),t?(e.status="viewed",s(e)):i?n(e.placement_id,e.experience_id,i):n(e.placement_id,e.experience_id))}),m(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:i,experience:n,isBackendExperience:s,preventRemoval:r,targeting:o}=this.props,a=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){let{placement_id:e,experience_id:l}=n||{},c=r||2===a;(1===a||c)&&e&&l&&(s?i(n,c):o?t(e,l,c,o):t(e,l,c),this.props.session?.endSession("complete"),this.setState(e=>({hasCompleted:[...e.hasCompleted,l]})))}}),m(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:n,preventRemoval:s,targeting:r}=this.props;if(!i)return;let{placement_id:o,experience_id:a}=i;i&&!this.state.hasDismissed.includes(a)&&(n?t(i):r?e(o,a,!!s,r):e(o,a,!!s),this.props.session?.endSession("dismiss"),this.setState(e=>({hasDismissed:[...e.hasDismissed,a]})))}),m(this,"isEligibleExperience",e=>{if(!e)return!1;let{eligibleIds:t,eligibleTypes:i,predicate:n}=this.props,{experience_id:s,type:r}=e;return 1!==s&&(t&&t.length?t.includes(s):i&&i.length?i.includes(r):!n||n(e))})}setEligibility(){let{experience:e}=this.props,t=this.isEligibleExperience(e);this.experienceEligibility!==t&&(this.experienceEligibility=t)}componentDidMount(){if((0,n.Z)("Experience","/app/packages/experiences/Framework/Experience.tsx"),this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience(e)&&this.view(),this.setEligibility()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,i=this.props.experience,n=this.isEligibleExperience(i);if(!i||!n)return void this.setEligibility();let s=t?.experience_id!==i.experience_id,r=n&&!this.experienceEligibility;(!t||s||r)&&(this.setEligibility(),this.view())}render(){let{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.isEligibleExperience(t)?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({}),sessionSetObserverRef:this.props.session?.setObserverRef}):s.Children.only(e):null}}function x(e){(0,s.useEffect)(()=>{(0,n.Z)("Experience","/app/packages/experiences/Framework/Experience.tsx")},[]);let t=(0,u.gZ)(),i=(0,r.v9)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0));(0,p.Z)(()=>{t?.checkUsePlacementCalls(e.placementId,i?.experience_id)});let a=(0,r.I0)(),d=(0,l.be)(),m=(0,l.Am)(),x=(0,l.Ig)(),g=(0,o.Z)(),b=(0,c.NQ)();return(0,h.jsx)(f,{...e,completeExperience:(e,t,i,n)=>a(d(e,t,i,!1,{},n)),completeExperienceObject:(e,t)=>a((0,l.Tl)(g)(e,t)),dismissExperience:(e,t,i,n)=>a(m(e,t,i,!1,void 0,n)),dismissExperienceObject:e=>a((0,l.CF)(e)),experience:i,session:b,viewExperience:(e,t,i)=>a(x(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>a((0,l.dy)(g)(e))})}function g({enableExperienceSession:e=!1,customExperienceSession:t=!1,...i}){let n=(0,r.v9)(({experiences:e})=>i.experience||(i.placementId?e[i.placementId]:void 0)),s=e;return s&&t&&(s=!!n&&d.$.includes(n.experience_id)),(0,h.jsx)(c.KF,{enable:s,endOnSurfaceChange:i.sessionEndOnSurfaceChange,experienceId:n?n.experience_id:void 0,id:n?n.id:void 0,placementId:i.placementId,children:(0,h.jsx)(x,{...i,experience:n})})}function b(e){return(0,s.useEffect)(()=>{(0,n.Z)("Experience","/app/packages/experiences/Framework/Experience.tsx")},[]),(0,h.jsx)(a.Z,{name:"ExperienceComponent",children:(0,h.jsx)(g,{...e})})}m(f,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},211079:function(e,t,i){i.d(t,{U:()=>a,Z:()=>l});var n=i(97776),s=i(531014);function r(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let o={start:["active","paused","end"],active:["active","end","paused"],paused:["resumed","paused","end"],resumed:["active","end","paused"],end:[],unknown:["start"]},a=(e,t)=>`${e}->${t}`;class l{constructor(e,t,i,o,l,c=null,d=[],u=null){r(this,"inView",!1),r(this,"state","unknown"),r(this,"lastInitiator",null),r(this,"endReason",null),r(this,"intersectionTrigger",([e])=>{let t=this.inView;(0,n.q4)(()=>{e?.isIntersecting?this.inView=!0:this.inView=!1,this.addTimeStamp("IntersectionObserver",this.inView,0===this.timeline.length?"start":"active"),s.ck.log(`[Experience Sessions] - ${this.inView?"👁️ In View":"❌ Out of View"}`)},"IntersectionObserver",void 0,this.id,()=>{this.inView=t})()}),r(this,"handleTransitionEdgeCases",(e,t,i,n)=>{let r=a(e,t);return"paused->active"===r&&"IntersectionObserver"===i&&(this.addTimeStamp("IntersectionObserver",n,"paused",0),s.ck.warn(`[Experience Sessions] - ⚠️ ${r} transition detected with initiator ${i}. Switching to 'paused' state instead.`),!0)}),this.id=e,this.experienceId=t,this.placementId=i,this.location=o,this.endOnSurfaceChange=l,this.observer=c,this.timeline=d,this.elementNode=u,u&&this.initiateObserver(u)}restart(){(0,n.q4)(()=>{this.timeline=[],s.ck.log("[Experience Sessions] - Restarting timeline for experience ",this.id)},"restart",void 0,this.id)}disconnect(){(0,n.q4)(()=>{if(!this.observer)throw new n.ar({placedExperienceId:this.id,customMessage:"disconnect() - Attempted to disconnect observer, but it has not been initiated yet."});this.observer.disconnect(),this.observer=null},"ExperienceInSession.disconnect",void 0,this.id)()}initiateObserver(e){if(e&&!this.observer)this.observer=new IntersectionObserver(this.intersectionTrigger,{root:null,rootMargin:"0px",threshold:.1}),this.elementNode=e,this.observer.observe(e);else{if(e?.isEqualNode(this.elementNode)){this.observer?.observe(e),this.elementNode=e,s.ck.log(`[Experience Sessions] - Resuming experience ${this.id}.`,e);return}s.ck.warn("[Experience Sessions] - Attempted to initiate observer with a null node or an existing observer. Node:",e)}}hasInitiated(){return null!==this.observer&&null!==this.elementNode&&"unknown"!==this.state}addTimeStamp(e,t,i="unknown",r){if(!this.hasInitiated()&&"start"!==i)throw new n.EO({placedExperienceId:this.id});let a=this.getLastTimeStamp()?.state||"unknown";if(!o[a].includes(i)){if(this.handleTransitionEdgeCases(a,i,e,t))return!0;throw new n.iL({placedExperienceId:this.id,currentState:a,newState:i})}return this.timeline.push({time:r||(0,s.dg)(),initiator:e,inView:t,state:i}),this.state=i,this.inView=t,this.lastInitiator=e,"end"===i&&"blur"!==e&&"focus"!==e&&"IntersectionObserver"!==e&&"restart"!==e&&(this.endReason=e),!0}setEndReason(e){this.endReason=e}isInView(){return this.inView}getSessionState(){return this.timeline?.[this.timeline.length-1]?.state??"unknown"}getLastTimeStamp(){return this.timeline.length>0?this.timeline[this.timeline.length-1]:void 0}getTimeStampBeforePause(){for(let e=this.timeline.length-1;e>=0;e-=1){let t=this.timeline[e];if(!t||"active"===t.state||"resumed"===t.state)break;if("paused"===t.state)if(e-1>=0)return this.timeline[e-1];else break}}getStateToResumeTo(){let e=this.getLastTimeStamp();if(e&&"paused"===e.state&&"IntersectionObserver"===e.initiator)return e.inView;let t=this.getTimeStampBeforePause();return void 0===t&&new n.zD({placedExperienceId:this.id}).log(),t?.inView??!1}getState(){return{inView:this.inView,state:this.state,lastInitiator:this.lastInitiator,endReason:this.endReason}}getTimelineDeepCopy(){return this.timeline.map(e=>({...e}))}getId(){return this.id}getExperienceId(){return this.experienceId}getPlacementId(){return this.placementId}getLocation(){return this.location}getEndOnSurfaceChange(){return this.endOnSurfaceChange}getElementNode(){return this.elementNode}getObserver(){return this.observer}getTimeline(){return this.timeline}getLength(){return this.timeline.length}}},108572:function(e,t,i){i.d(t,{$:()=>s,K:()=>n});let n=[{placementId:11,endOnSurfaceChange:!0},{placementId:40001,endOnSurfaceChange:!0},{placementId:29,endOnSurfaceChange:!0},{placementId:12,endOnSurfaceChange:!0},{placementId:1000088,endOnSurfaceChange:!0},{placementId:1000468,endOnSurfaceChange:!0},{placementId:1000168,endOnSurfaceChange:!0},{placementId:1000235,endOnSurfaceChange:!0},{placementId:1000264,endOnSurfaceChange:!0}],s=[506124,506436,504943,505226,505111,505801,507575,502535,500331,506046,506879,507502,505933,506791,502669,506234,505047,505471,505420,506234,505974,505201,502407,505541,506473,506921,502157,502004,506469,506930]},97776:function(e,t,i){i.d(t,{AS:()=>h,D6:()=>p,EO:()=>d,Gw:()=>x,PI:()=>g,VV:()=>b,ar:()=>c,iL:()=>u,jQ:()=>f,q4:()=>v,z0:()=>m,zD:()=>y});var n=i(533363),s=i(211079),r=i(531014),o=i(603316);class a{constructor({name:e,placedExperienceId:t,message:i}){this.name=e,this.placedExperienceId=t,this.message=i}log(){r.ck.warn(`[ExperienceSessions] - Warning: ${this.name} for experience ${this.placedExperienceId} - ${this.message}`,{placedExperienceId:this.placedExperienceId})}}class l extends Error{constructor({name:e,placedExperienceId:t,customMessage:i}){super(i),this.name=e,this.placedExperienceId=t,Object.setPrototypeOf(this,l.prototype)}}class c extends l{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Error occurred while creating an IntersectionObserver for experience with id ${e}.`,name:"IntersectionObserver",placedExperienceId:e})}}class d extends l{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Attempted to create a timestamp without an observer for experience with id ${e}.`,name:"TimeStampNoObserver",placedExperienceId:e})}}class u extends l{constructor({placedExperienceId:e,customMessage:t,currentState:i,newState:n}){super({customMessage:t??`Invalid time stamp state transition: ${(0,s.U)(i,n)}.
Dropping time stamp.`,name:"InvalidStateTransition",placedExperienceId:e}),(0,o.nP)("experience_sessions_invalid_state_transition",{sampleRate:1,tags:{placedExperienceId:e,transition:(0,s.U)(i,n)}})}}class p extends l{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Attempted to remove an experience with id ${e} from an empty session map.`,name:"RemoveOnEmptySessionMap",placedExperienceId:e})}}class h extends l{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Attempted to remove a non-existent experience with id ${e}.`,name:"RemoveOnMissingExperience",placedExperienceId:e})}}class m extends l{constructor(e,t,i,n){let s=[{value:e,name:"Placed Experience ID"},{value:t,name:"Experience ID"},{value:i,name:"Placement ID"}].filter(e=>!e.value).map(e=>e.name);super({customMessage:s.length>0?`${s.join(" and ")} ${s.length>1?"are":"is"} required for this operation.`:n??"",name:"InvalidIdError",placedExperienceId:e||""})}}class f extends l{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`No start state found in the timeline for experience with id ${e}.`,name:"NoStart",placedExperienceId:e})}}class x extends l{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Total duration calculated is negative for experience with id ${e}.`,name:"NegativeTotal",placedExperienceId:e})}}class g extends l{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Timeline ended without an end state for experience with id ${e}.`,name:"NoEnd",placedExperienceId:e})}}class b extends l{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Total duration calculated is not a valid number for experience with id ${e}.`,name:"InvalidTotal",placedExperienceId:e})}}class y extends a{constructor({placedExperienceId:e,customMessage:t}){super({message:t??`Attempted to resume without a pause timestamp for experience with id ${e}. Was the session started before app focus?`,name:"TimeStampNoPause",placedExperienceId:e})}}let _=[p,h,m,f,x,g,b];function v(e,t,i,s,o){return(...a)=>{try{return e(...a)}catch(e){if(e instanceof Error){let i=(_.some(t=>e instanceof t)?e.placedExperienceId:s)||"0:unknown";r.ck.error(`[Experience Session] - ${t} - ${e.name}:${e.message}`);let[o,a]=i.split(":");(0,n.sW)(t,e.name,a||"0",Number(o))}else{let i=String(e);r.ck.error(`[Experience Session] - ${t} - Error: ${i}`),(0,n.AC)(e,t)}return o&&o(),i}}}},564325:function(e,t,i){i.d(t,{Z:()=>r,r:()=>n});let{Provider:n,get:s}=(0,i(729434).Z)("ExperienceSessionContext"),r=s},873651:function(e,t,i){i.d(t,{Z:()=>s});var n=i(108572);function s(e){let t=e=>{let t=n.K.find(t=>t.placementId===e);return{enableExperienceSession:!!t,endOnSurfaceChange:!!t?.endOnSurfaceChange}};return e?{...t(e),isSessionEnabledPlacement:t}:{enableExperienceSession:void 0,endOnSurfaceChange:void 0,isSessionEnabledPlacement:t}}},894199:function(e,t,i){i.d(t,{GF:()=>f,jQ:()=>_.Z,vG:()=>v,KF:()=>y,NQ:()=>b.Z});var n=i(667294),s=i(581722),r=i(825332),o=i(877956),a=i(97776);let{Provider:l,get:c,useMaybeHook:d}=(0,i(729434).Z)("ExperienceSessionManagerContext");var u=i(531014),p=i(675973),h=i(341742),m=i(785893);function f({children:e}){let t=(0,n.useRef)({}),i=(0,r.TH)(),c=(0,s.I0)(),d=(0,o.$S)(),{checkExperiment:f}=(0,p.Z)(),x=()=>0===Object.values(t.current).length||0===Object.keys(t.current).length,g=e=>{if(e)return t.current[e]},b=(0,n.useCallback)(e=>{let i=e.getId();return t.current[i]=e,u.ck.log(`[Experience Sessions] - Added experience with id ${i} to experiences in session map.
View ExperienceInSession object added: `,t.current[i]),t.current[i]},[]),y=(0,n.useCallback)((e,i="unknown")=>{(0,a.q4)(()=>{if(0===Object.values(t.current).length)throw new a.D6({placedExperienceId:e});if(!t.current[e])throw new a.AS({placedExperienceId:e});t.current[e].addTimeStamp(i,!1,"end"),t.current[e].disconnect(),u.ck.log(`[Experience Session] - Ended experience with id ${e} to experiences in session map with reason '${i}'.
View time stamps for experience: `,t.current[e].getTimeline(),`
Full experience in session object: `,t.current[e]),(0,o.Th)({placedExperienceId:e,experienceId:t.current[e].getExperienceId(),placementId:t.current[e].getPlacementId(),timeline:t.current[e].getTimelineDeepCopy(),endReason:i}),f("web_experience_remove_on_view_end").anyEnabled&&c(d(t.current[e].getPlacementId(),t.current[e].getExperienceId())),delete t.current[e]},"removeExperience",void 0,e)()},[d,c,f]),_=e=>{x()||Object.values(t.current).forEach(e=>{(0,a.q4)(()=>{e.hasInitiated()&&y(e.id,"page-unload")},"endOnPageLeave",void 0,e.id)()})},v=(0,n.useCallback)(()=>{x()||Object.values(t.current).forEach(e=>{(0,a.q4)(()=>{e.getLocation()!==i.pathname&&e.getEndOnSurfaceChange()&&e.hasInitiated()&&y(e.getId(),"surface-exit")},"endOnSurfaceChange",void 0,e.getId())()})},[i,y]),w=()=>{!x()&&(document.activeElement&&"IFRAME"===document.activeElement.tagName&&(u.ck.warn("[Experience Session] - Ignoring pauseOnPageBlur event in iframe"),1)||Object.values(t.current).forEach(e=>{(0,a.q4)(()=>{e.hasInitiated()&&(e.addTimeStamp("blur",!1,"paused"),u.ck.log(`[Experience Session] - Pausing experience ${e.getId()} session.`))},"pauseOnPageBlur",void 0,e.getId())()}))},E=()=>{x()||Object.values(t.current).forEach(e=>{(0,a.q4)(()=>{if(e.hasInitiated())if(e.getTimeline().length<2)new a.zD({placedExperienceId:e.id}).log(),e.restart();else{let t=e.getStateToResumeTo();e.addTimeStamp("focus",t,"resumed"),u.ck.log(`[Experience Session] - Resuming experience ${e.getId()} session from paused state with inView status: ${t}.`)}},"resumeOnPageFocus",void 0,e.getId())()})};(0,n.useEffect)(()=>{v()},[i,v]),(0,h.Z)(()=>(u.ck.log("[Experience Sessions] - ✨ Debug enabled!"),window.addEventListener("beforeunload",_),window.addEventListener("blur",w),window.addEventListener("focus",E),()=>{window.removeEventListener("beforeunload",_),window.removeEventListener("blur",w),window.removeEventListener("focus",E)}));let C=(0,n.useMemo)(()=>({experiencesInSession:t.current,getExperience:g,addExperience:b,removeExperience:y}),[t,b,y]);return(0,m.jsx)(l,{value:C,children:e})}var x=i(281098),g=i(211079),b=i(564325);function y({children:e,id:t,experienceId:i,placementId:s,enable:o=!0,endOnSurfaceChange:l=!0}){(0,n.useEffect)(()=>{(0,x.Z)("SessionWrapper","/app/packages/experiences/Framework/Sessions/Components/SessionWrapper.tsx")},[]);let c=d(),u=!o||!c,{getExperience:p,addExperience:h,removeExperience:f}=c||{getExperience:()=>void 0,addExperience:()=>void 0,removeExperience:()=>void 0},y=(0,n.useRef)(p(t)??null),_=(0,n.useRef)(null),v=(0,r.TH)(),w=(0,n.useCallback)(()=>{(0,a.q4)(()=>{if(!u){if(!t||!i||!s)throw new a.z0(t,i,s);y.current||(y.current=new g.Z(t,i,s,v.pathname,l,null,void 0,_.current),h(y.current))}},"startSession",void 0,t)()},[t,i,s,y,h,u,v,l]),E=(0,n.useCallback)(e=>{(0,a.q4)(()=>{if(!u){if(!t||!i||!s)throw new a.z0(t,i,s);y.current?.hasInitiated()&&f(t,e)}},"endView",void 0,t)()},[t,i,s,y,f,u]),C=(0,n.useCallback)(e=>{(0,a.q4)(()=>{u||(y.current?y.current.initiateObserver(e):_.current=e)},"setObserverRef",void 0,t)()},[y,u,t]),k=(0,n.useMemo)(()=>({startSession:w,endSession:E,experienceInView:y.current,setObserverRef:C}),[w,E,y,C]);return(0,m.jsx)(b.r,{value:k,children:e})}var _=i(873651);function v(e,t){let i,n=t.findIndex(e=>"start"===e.state);if(-1===n)throw new a.jQ({placedExperienceId:e});let s=e=>{if(void 0===i)return i=e.inView,!1;let t=i===e.inView;return i=e.inView,t},r=!0,o=0;for(let e of t.slice(n)){let t=e.inView?-e.time:e.time;if("end"===e.state){s(e)||(o+=t),r=!1;break}"resumed"===e.state&&(r=!0),r&&(s(e)||(o+=t),"paused"===e.state&&(r=!1))}if(r)throw new a.PI({placedExperienceId:e});if(o<0)throw new a.Gw({placedExperienceId:e});if("number"!=typeof o||Number.isNaN(o))throw new a.VV({placedExperienceId:e});return o}},533363:function(e,t,i){let n;i.d(t,{$S:()=>y,AC:()=>j,Am:()=>v,Ig:()=>b,N:()=>k,NW:()=>f,Sd:()=>w,Th:()=>P,YX:()=>C,be:()=>_,fO:()=>m,kd:()=>E,pz:()=>x,sW:()=>S,x4:()=>h});var s=i(667294),r=i(575108),o=i(521009),a=i(894199),l=i(97776),c=i(9139),d=i(531014),u=i(686319),p=i(603316);let h=(e,t)=>r.Z.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet(),m=(e,t)=>i=>r.Z.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet().then(e=>e.resource_response?i((0,c.OD)(e.resource_response.data)):void 0),f=e=>t=>r.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t((0,c.xF)(e.resource_response.data)):void 0),x=(e,t,i,s,o)=>(a,l)=>{if(t)return Promise.resolve();if(s&&(n=s),1===e.length){let t=e[0],n=l().experiences[t];if(JSON.stringify(n?.extraContext||null)===JSON.stringify(i)||(0,d.E3)(n)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return r.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:s}).callGet().then(t=>{if(!t.resource_response)return;let i=t.resource_response.data||{};if(o){let{experiences:t}=l();d.ck.log("[MVC] Post Checks - Checking existing experiences in store"),e.forEach(e=>{let n=t[e];if(n&&0!==n.experience_id){var s;s=i[e],(0,p.nP)("experience_framework.fetch.post_check.failures",{sampleRate:.01,tags:{placement_id:e,experience_in_store:n.experience_id,experience_from_server:s?.experience_id}}),i[e]=n}})}a((0,c.cL)(i))})},g=(e,t,i,s)=>(o,a,l,d=!1,u,p)=>(h,f)=>{let{experiences:x,experiencesMulti:g}=f(),b=null,y=!0;if(d||(b=(y=!!x[o]&&x[o].experience_id===a)?x[o]:Array.isArray(g[o])&&g[o]?.find(e=>e.experience_id===a)),b&&b.experience_id===a||d&&o&&a){let d=r.Z.create(e,{placed_experience_id:`${o}%3A${a}`,extra_context:u??{},targeting:p}),f=y?c.Yb:c.xW;switch(t){case"dismissed":return d.callDelete().then(()=>{h(f(o,a,t)),h(m(void 0,n)),i&&s&&i({event_type:s,object_id_str:a.toString()})});case"completed":return d.callUpdate().then(()=>{!l&&(h(f(o,a,t)),h(m(void 0,n)),i&&s&&i({event_type:s,object_id_str:a.toString()}))});case"viewed":return h(f(o,a,t)),d.callUpdate().then(()=>{1000162===o&&h(m()),i&&s&&i({event_type:s,object_id_str:a.toString()})});case"completedWithoutHomefeed":return d.callUpdate().then(()=>{l||h(f(o,a,t)),i&&s&&i({event_type:s,object_id_str:a.toString()})})}}return Promise.resolve()},b=()=>{let e=(0,o.Z)();return(0,s.useCallback)(g("UserExperienceViewedResource","viewed",e,4503),[e])},y=()=>{let e=(0,o.Z)();return(0,s.useCallback)((t,i,n,s=!1,r,o)=>(n,r)=>{let{experiences:o,experiencesMulti:a}=r(),l=null,u=!0;if(s||(l=(u=!!o[t]&&o[t].experience_id===i)?o[t]:Array.isArray(a[t])&&a[t]?.find(e=>e.experience_id===i)),l&&l.experience_id===i||s&&t&&i){let s=u?c.Yb:c.xW;d.ck.log(`[MVC] View-End - Removing experience ${t}:${i} from store.`),(0,p.nP)("experience_framework.view_end",{tags:{placement_id:t,experience_id:i}}),n(s(t,i,"view-end")),e&&e({event_type:4503,object_id_str:i.toString()})}return Promise.resolve()},[e])},_=()=>{let e=(0,o.Z)();return(0,s.useCallback)(g("UserExperienceCompletedResource","completed",e,6567),[e])},v=()=>{let e=(0,o.Z)();return(0,s.useCallback)(g("UserExperienceResource","dismissed",e,6568),[e])},w=()=>{let e=(0,o.Z)();return(0,s.useCallback)(g("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},E=(e,t)=>(i,n)=>{let{experiences:s}=n(),r=s[e];r&&r.triggerable_placed_exps&&r.triggerable_placed_exps.length&&r.triggerable_placed_exps.forEach(i=>{let[,n]=i.split(":"),s=t,o=r?.metadata?.[n];o&&(s={...t,..."object"==typeof o?o:{}}),(0,u.Z)({url:`/v3/experiences/${i.replace(":","%3A")}/trigger/`,method:"PUT",data:s?{extra_context:JSON.stringify(s,null,1)}:{}}).then(()=>{((e,t,i={})=>(0,p.nP)(`${e}.${t}`,{sampleRate:1,tags:i}))("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:n})})})},C=e=>(t,i)=>{t(E(e));let{experiences:n}=i();return n[e]},k=(e,t,i,s)=>r=>{i&&(n=i),r(E(e,t)),t&&Object.keys(t).length>0&&r(x([e],!1,t,i,s))},S=async(e,t,i,n)=>{(0,p.nP)("experience_framework.view_duration.error",{sampleRate:1,tags:{func:e,type:t,experience_id:i,placement_id:n}})},j=async(e,t)=>{let i=e instanceof Error?e.message:String(e);(0,p.nP)("experience_framework.view_duration.unknown_error",{sampleRate:1,tags:{function:t,error:i}})},P=e=>{let{placedExperienceId:t,experienceId:i,placementId:n,endReason:s,timeline:r}=e;(0,l.q4)(()=>{let e=(0,a.vG)(t,r);d.ck.log(`[Experience Sessions] ✨ Total duration for experience ${t} is ${e}ms - Sending to statsboard with end reason: ${s}`),(0,p.LY)("experience_framework.view_duration",e,{sampleRate:.2,tags:{placement_id:n,experience_id:i,end_reason:s}})},"calculateTotalDuration",void 0,t,()=>{d.ck.error(`[Experience Sessions] ❌ Error calculating total duration for experience ${t} due to previous error`)})()}},877956:function(e,t,i){i.d(t,{kd:()=>n.kd,$S:()=>n.$S,Tl:()=>o,CF:()=>a,Ig:()=>n.Ig,x4:()=>n.x4,be:()=>n.be,N:()=>n.N,Sd:()=>n.Sd,YX:()=>n.YX,NW:()=>n.NW,Am:()=>n.Am,dy:()=>l,fO:()=>n.fO,Th:()=>n.Th,pz:()=>n.pz});var n=i(533363),s=i(575108);let r=(e,t,i,r)=>(o,a)=>l=>{if(o&&o.id){let c=s.Z.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then(()=>{l((0,n.fO)()),i&&r&&i({event_type:r,object_id_str:o.id.toString()})});break;case"completed":c.callUpdate().then(()=>{a||l((0,n.fO)()),i&&r&&i({event_type:r,object_id_str:o.id.toString()})});break;case"viewed":c.callUpdate().then(()=>{i&&r&&i({event_type:r,object_id_str:o.id.toString()})})}}},o=e=>r("UserExperienceCompletedResource","completed",e,6567),a=r("UserExperienceResource","dismissed"),l=e=>r("UserExperienceViewedResource","viewed",e,4503)},581829:function(e,t,i){i.d(t,{Z:()=>s});let n={1:"default",2:"subtle",3:"subtle",4:"inverse",5:"info",6:"success",7:"warning",8:"error",9:"recommendation",10:"brandPrimary",11:"light",12:"dark"},s=(e,t="default")=>n[e]||t},641048:function(e,t,i){i.d(t,{f:()=>s});let n={2:"pinterest",1:"sparkle",5:"add",7:"angled-pin",4:"flashlight",3:"search",6:"speech-ellipsis",8:"instagram",9:"camera",10:"camera-roll",11:"board",12:"layout",13:"hand-pointing",14:"share",15:"download",16:"shopping-bag",17:"check",18:"alert",19:"bell",20:"person",21:"flag",22:"lightbulb",23:"home",24:"speech-heart",25:"speech-outline",26:"heart-outline",27:"face-smiley-outline",28:"face-tryon",29:"star-outline",30:"ads-stats",31:"filter",32:"heart",33:"gift",34:"crystal-ball",35:"saved",36:"magnifying-glass-sparkle",37:"performance-plus",38:"amazon",39:"tag",40:"tag-star",41:"scissors"},s=e=>n[e]},439068:function(e,t,i){i.d(t,{Z:()=>a});var n=i(667294),s=i(120944),r=i(531014),o=i(15667);function a(e){let{mountedPlacements:t,completeExperience:i,dismissExperience:a,experiences:l,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:h}=(0,s.ZP)(),{isBot:m}=(0,o.B)(),f=e&&!m?(0,r.MQ)(l,t,e):null;return(0,n.useMemo)(()=>({completeExperience:i,dismissExperience:a,experienceForPlacement:f,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:h}),[i,a,f,c,d,u,p,h])}},120944:function(e,t,i){i.d(t,{L$:()=>n,ZP:()=>o,gZ:()=>r});let{Provider:n,get:s,getMaybe:r}=(0,i(729434).Z)("ExperienceContext"),o=s},597189:function(e,t,i){i.d(t,{Z:()=>u});var n=i(667294),s=i(581722),r=i(442279),o=i(120944),a=i(15667),l=i(603316);let c=(0,r.createSelector)(e=>e.experiences,(e,t)=>t,(e,t)=>e[t]),d=(e,t)=>"function"==typeof t?t(e):t,u=(e,t={},i=!1)=>{let[r,u]=(0,n.useReducer)(d,t),{isBot:p}=(0,a.B)(),{fetchExperienceForPlacements:h,mountPlacement:m,triggerExperimentsForPlacement:f,unmountPlacement:x,setUsePlacementCalls:g}=(0,o.ZP)();(0,n.useDebugValue)(`Placement Hook ID - ${e}`),g(e,!0),(0,n.useEffect)(()=>(m(e,r,i&&r?.advertiser_id?{advertiserId:r.advertiser_id}:void 0),()=>{x(e)}),[]),(0,n.useEffect)(()=>{Object.keys(r).length>0&&h([e],p,r,i&&r?.advertiser_id?{advertiserId:r.advertiser_id}:void 0)},[r]);let b=(0,s.v9)(t=>c(t,e)),y=(0,s.v9)(t=>t.experiencesMulti[e]),_=b?b.triggerable_placed_exps:[];return(0,n.useEffect)(()=>{((e,t,i={})=>(0,l.nP)(`${e}.${t}`,{sampleRate:1,tags:i}))("experienceservice","placementHookExperimentTrigger.1",{platform:"web",placement_id:e,triggerable_experiences:JSON.stringify(_)}),f(e,r)},[JSON.stringify(_)]),{experience:b,experiencesMulti:y,setExtraContext:u}}},937392:function(e,t,i){i.d(t,{O9:()=>eK,RL:()=>O,iH:()=>W,a3:()=>u.ZP,b9:()=>N,So:()=>eR,RK:()=>e6,k6:()=>tr,N:()=>eB,Sc:()=>b.ZP,w0:()=>h,_7:()=>D,vx:()=>f,OR:()=>tl,cO:()=>w,Ig:()=>ec,dr:()=>tg,_f:()=>ea,Uv:()=>ts,pF:()=>eW,Qp:()=>td,oS:()=>A.Z,FH:()=>ti,nj:()=>eT,u3:()=>ed.default,ag:()=>P,M8:()=>eF,KS:()=>eU,mc:()=>tf,cs:()=>tm,H6:()=>ta,_P:()=>j,Ow:()=>I.Z}),i(879592);var n=i(281098),s=i(667294),r=i(20256),o=i(980787),a=i(19585),l=i(785893);let c={"error-callout":"error","info-callout":"info","warning-callout":"warning"};function d(e){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceAnalyticsCalloutBanner","/app/packages/experiences/Experiences/ExperienceAnalyticsCalloutBanner/ExperienceAnalyticsCalloutBanner.tsx")},[]);let t=(0,a.ZP)(),{logContextEvent:i}=(0,o.u)(),{displayData:d,experienceId:u,onComplete:p,onDismiss:h}=e,m={info:t.bt("Ícone de informações", "Information icon", "analyticsCalloutBanner.accessibilityLabel.info", undefined, true),warning:t.bt("Ícone de aviso", "Warning icon", "analyticsCalloutBanner.accessibilityLabel.warning", undefined, true),error:t.bt("Ícone de erro", "Error icon", "analyticsCalloutBanner.accessibilityLabel.error", undefined, true)},f=c[d.type]||"info";return(0,l.jsx)(r.xu,{marginTop:6,paddingX:6,children:(0,l.jsx)(r.ci,{dismissButton:{accessibilityLabel:t.bt("Ignorar banner", "Dismiss banner", "analyticsCalloutBanner.dismissAccessibilityLabel", undefined, true),onDismiss:()=>{h(),i({event_type:101,component:14071,element:11925,aux_data:{placed_experience_id:u}})}},iconAccessibilityLabel:m[f],message:(0,l.jsxs)(r.xv,{children:[d.message,d.link?(0,l.jsx)(r.rU,{display:"inline",href:d.link.href,target:"blank",children:d.link.text}):null]},"message"),primaryAction:d.primaryAction?.label?{label:d.primaryAction.label,accessibilityLabel:d.primaryAction.accessibilityLabel,href:d.primaryAction.href,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),p(),i({event_type:101,component:14071,element:13004,aux_data:{placed_experience_id:u}})},target:"blank",role:"link"}:void 0,secondaryAction:d.secondaryAction?.label?{label:d.secondaryAction.label,accessibilityLabel:d.secondaryAction.accessibilityLabel,href:d.secondaryAction.href,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),h(),i({event_type:101,component:14071,element:13005,aux_data:{placed_experience_id:u}})},target:"blank",role:"link"}:void 0,title:d.title,type:f})})}var u=i(962988);let p=["error-callout","info-callout","warning-callout"];function h(e){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceAnalyticsCalloutBannerPlacement","/app/packages/experiences/Experiences/ExperienceAnalyticsCalloutBanner/ExperienceAnalyticsCalloutBannerPlacement.tsx")},[]);let{placementId:t}=e;return(0,l.jsx)(u.ZP,{placementId:t,predicate:e=>e.display_data?.type&&p.includes(e.display_data.type)&&e.display_data?.message,children:({complete:e,dismiss:t,experience:{display_data:i,experience_id:n}})=>(0,l.jsx)(d,{displayData:i,experienceId:n,onComplete:e,onDismiss:t})})}function m(e){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceAnalyticsUpsellBanner","/app/packages/experiences/Experiences/ExperienceAnalyticsUpsellBanner/ExperienceAnalyticsUpsellBanner.tsx")},[]);let t=(0,a.ZP)(),{logContextEvent:i}=(0,o.u)(),{displayData:c,experienceId:d,onComplete:u,onDismiss:p,marginBottom:h}=e;return(0,l.jsx)(r.xu,{marginBottom:h,marginTop:6,paddingX:6,children:(0,l.jsx)(r.XA,{dismissButton:{accessibilityLabel:t.bt("Ignorar banner", "Dismiss banner", "analyticsCalloutBanner.dismissAccessibilityLabel", undefined, true),onDismiss:()=>{p(),i({event_type:101,component:14075,element:11925,aux_data:{placed_experience_id:d}})}},message:c.message,primaryAction:c.primaryAction?.label?{label:c.primaryAction.label,accessibilityLabel:c.primaryAction.accessibilityLabel,href:c.primaryAction.href,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),u(),i({event_type:101,component:14075,element:13004,aux_data:{placed_experience_id:d}})},target:"blank",role:"link"}:void 0,secondaryAction:c.secondaryAction?.label?{label:c.secondaryAction.label,accessibilityLabel:c.secondaryAction.accessibilityLabel,href:c.secondaryAction.href,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),p(),i({event_type:101,component:14075,element:13005,aux_data:{placed_experience_id:d}})},target:"blank",role:"link"}:void 0,title:c.title??""})})}function f(e){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceAnalyticsUpsellBannerPlacement","/app/packages/experiences/Experiences/ExperienceAnalyticsUpsellBanner/ExperienceAnalyticsUpsellBannerPlacement.tsx")},[]);let{placementId:t,marginBottom:i}=e;return(0,l.jsx)(u.ZP,{placementId:t,predicate:e=>e.display_data?.type==="upsell"&&e.display_data?.message,children:({complete:e,dismiss:t,experience:{display_data:n,experience_id:s}})=>(0,l.jsx)(m,{displayData:n,experienceId:s,marginBottom:i,onComplete:e,onDismiss:t})})}class x extends s.Component{renderFlyout(){let{anchor:e,tooltip:t,handleDismiss:i,handleComplete:n}=this.props;if(!t)return null;let{cancelButtonText:s,confirmButtonText:o,mainText:a,idealDirection:c="down"}=t,d=s&&!!i&&o&&n;return(0,l.jsx)(r.pl,{anchor:e,idealDirection:c,message:a,onDismiss:i,primaryAction:{onClick:d?i:n,text:d?String(s):String(o),role:"button"},size:"flexible"})}render(){let{anchor:e}=this.props;return e?this.renderFlyout():null}componentDidMount(){(0,n.Z)("LegacyToolTipPulsar","/app/packages/experiences/Experiences/ExperienceAnchor/LegacyToolTipPulsar.tsx")}}var g=i(825332),b=i(120944),y=i(506662),_=i(378888),v=i(647709);let w=()=>{let{mountPlacement:e,registeredAfterActionPlacements:t}=(0,b.ZP)(),i=(0,v.HG)(),n=(0,g.TH)();return(0,s.useCallback)((s,r,o)=>{let a;switch(s){case"Save":var l;a=r?.isRepinTakeover?1000578:(l=n,((0,y.XU)(l)&&l.state&&"from"in l.state&&l.state.from&&(l=l.state.from),(0,y.HV)(l))?i?1000503:1000558:(0,y.En)(l)?i?1000506:1000559:(0,y.L6)(l)?i?1000141:1000494:(0,y.am)(l)&&i?1000647:void 0);break;case"Download":(0,y.L6)(n)&&(a=i?1000499:1000500);break;case"Clickthrough":a=((e,t)=>{if(t){if((0,y.HV)(e))return 1000541;else if((0,y.En)(e))return 1000542;else if((0,y.L6)(e))return 1000140}else if((0,y.HV)(e))return 1000544;else if((0,y.En)(e))return 1000543;else if((0,y.L6)(e))return 1000540})(n,i);break;case"NoAction":a=((e,t)=>{if(t&&(0,y.L6)(e))return 1000564})(n,i)}null!=a&&((0,y.En)(n)&&(r={...r,search_query:(0,_.mB)(n.search)}),null!=a&&(t[a]||(0,y.XU)(n))&&e(a,r,o))},[t,e,n,i])};var E=i(581722),C=i(503246),k=i(877956),S=i(15667);let j=({extraContext:e,id:t,shouldUsePlacedExperience:i=!0})=>{let n=(0,s.useRef)(void 0),r=(0,E.I0)(),{isBot:o}=(0,S.B)(),a=(0,E.v9)(e=>e.experiences[t]);return(0,s.useEffect)(()=>{r((0,k.kd)(t))},[r,a,t]),(0,s.useEffect)(()=>{i||(0,C.ZP)(n.current,e)||(r((0,k.pz)([t],o,e)),n.current=e)},[r,e,o,t,i]),a},P=e=>(j(e),(0,E.v9)(t=>t.experiencesMulti[e.id]));var A=i(439068),I=i(597189),T=i(531014);function R(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let Z={dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},O=(e,t={},i)=>n=>(function(e,t,i=!0,n=!1,r){class o extends s.Component{constructor(e){super(e),R(this,"state",{extraContext:void 0}),R(this,"setExtraContextState",e=>{(0,C.ZP)(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(i,n){let{dispatch:s,experience:r,requestContext:o}=this.props,a=n.extraContext,l=this.state.extraContext||t||{};"function"==typeof t&&(a=t(i,n.extraContext||{}),l=t(this.props,this.state.extraContext||{})),l&&Object.keys(l).length>0&&"object"==typeof l&&!(0,C.ZP)(a,l)&&s((0,k.pz)([e],o.isBot,l)),r&&(!i.experience||r.id!==i.experience.id)&&s((0,k.kd)(e,"object"==typeof l?l:{}))}componentWillUnmount(){this.props.unmountPlacement(e)}dispatchPlacementMount(){let i="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},s=n&&i?.advertiser_id?{advertiserId:i.advertiser_id}:void 0;this.props.mountPlacement(e,i,s)}render(){let{experience:e,experiencesMulti:t}=this.props,i={[n?"advertiserExperience":"experience"]:e&&(0,T.E3)(e)?e:null};return(0,l.jsx)(r,{...this.props,setPlacementExtraContext:this.setExtraContextState,...i,experiencesMulti:t})}}function a(t){let i=(0,E.v9)(t=>t.experiences[e]),n=(0,E.v9)(t=>t.experiencesMulti?t.experiencesMulti[e]:void 0),s=(0,S.B)(),r=(0,E.I0)(),{mountPlacement:a,unmountPlacement:c,setUsePlacementCalls:d}=(0,b.ZP)();return d(e,!0),(0,l.jsx)(o,{...t,dispatch:r,experience:i,experiencesMulti:n,mountPlacement:a,requestContext:s,unmountPlacement:c})}return a.displayName=`withPlacement(${r.displayName||r.name||"Component"})`,a})(e,t,(i={...Z,...i}).dispatchMountActionDuringSSR,i.isAdvertiserPlacement,n);var L=i(949044),z=i(974705);function D({anchor:e,anchorElementRef:t,children:i,containerBoxConfig:o,experience:a,isHidden:c,onCompleteClick:d,zIndex:u}){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceAnchor","/app/packages/experiences/Experiences/ExperienceAnchor/ExperienceAnchor.tsx")},[]);let{completeExperience:p,dismissExperience:h,experiences:m,viewExperience:f}=(0,b.ZP)(),g=(({anchor:e,anchorExperiences:t,passedExperience:i})=>i||(t?t[e]:null))({anchor:e,anchorExperiences:Object.values(m).reduce((e,t)=>{let i=(0,T.A0)(t);return 8===t.type&&i&&(e[i]=t),e},{}),passedExperience:a}),y=g?.display_data?.delay||0,[_,v]=(0,s.useState)(!!y);if((0,s.useEffect)(()=>{if(y>0&&_){let e=setTimeout(()=>{v(!1)});return()=>clearTimeout(e)}return()=>{}},[y,_]),(0,s.useEffect)(()=>{!_&&g&&f(g.placement_id,g.experience_id)},[_,g]),!g||_||c)return s.Children.only(i);let w=(e=>{let{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),(0,L.Z)(z.Z,!0)(t)})(g),E=()=>{g.display_data?.complete_on_hover&&p(g.placement_id,g.experience_id)};return(0,l.jsxs)(r.xu,{display:o?.display,height:o?.height,position:"relative",children:[(0,l.jsx)(r.iP,{onMouseEnter:E,onTap:()=>{d&&d(),w.skipComplete||p(g.placement_id,g.experience_id)},children:s.Children.only(i)}),(0,l.jsx)(x,{anchor:t||null,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{e?.event&&e.event.stopPropagation(),h(g.placement_id,g.experience_id)},handlePulsarCompleteOnHover:E,pulserOnly:!!w.pulserOnly,tooltip:w.tooltip,zIndex:u})]})}var M=i(47426);function B(e){(0,s.useEffect)(()=>{(0,n.Z)("MultiPlatformBanner","/app/packages/experiences/Experiences/MultiPlatformBanner/MultiPlatformBanner.tsx")},[]);let t=(0,a.ZP)(),{displayData:{backgroundColorNarrow:i,backgroundColorWide:o,backgroundImageNarrow:c,backgroundImageWide:d,canClose:u,completeButtonText:p,coverImage:h,dismissButtonText:m,iconImage:f,layoutNarrow:x,layoutWide:g,links:b=[],linkTitles:y=[],message:_,onCompleteRedirectUrl:w,onDismissRedirectUrl:E,textColorNarrow:C,textColorWide:k,titleText:S,external:j},onComplete:P,onDismiss:A}=e,I=!(0,v.HG)(),T=I?x:g,R=!I&&3!==T,Z=I?i:o,O=I?C:k,{altText:L,uri:z}=(I?c:d)||{},{altText:D,uri:B}=h||{},{altText:N,uri:F}=f||{},W=I&&2===T||!I&&2===T,H=I?"96px":"48px",U=I&&3===T,V=p&&!w&&(0,l.jsx)(r.zx,{color:"white",onClick:({event:e})=>{P?.(e)},text:p}),$=(0,M.Z)({url:w}),X=p&&w&&(0,l.jsx)(r.ZP,{color:"white",href:w,onClick:({event:e})=>{P?.(e)},rel:$?"nofollow":"none",size:"lg",target:j?"blank":void 0,text:p},"naglink"),G=(0,M.Z)({url:E}),Y=m&&E&&(0,l.jsx)(r.ZP,{color:"white",href:E,onClick:({event:e})=>{A?.(e)},rel:G?"nofollow":"none",size:"lg",target:j?"blank":void 0,text:m},"naglink"),q=m&&!E&&(0,l.jsx)(r.zx,{color:"white",onClick:({event:e})=>{A?.(e)},size:"lg",text:m}),J=u&&(0,l.jsx)(r.hU,{accessibilityLabel:t.bt("Fechar", "Close", "accessibility close label", undefined, true),bgColor:"lightGray",icon:"cancel",iconColor:"gray",onClick:({event:e})=>{A?.(e)},size:"md"}),Q=b.reduce((e,t,i)=>{let n=t.startsWith("https://")||t.startsWith("http://")?'rel="noreferrer noopener" target="_blank"':"",s=`<a href="${t}" ${n}>${y[i]}</a>`;return e.replace(`{${i}}`,s)},_),K={backgroundColor:Z,backgroundImage:!z||W||U?void 0:`url(${z})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,l.jsx)(r.xu,{direction:R?"row":"column",display:"flex",marginBottom:5,marginEnd:2,marginStart:2,marginTop:2,children:(0,l.jsx)("div",{className:"banner-content",style:{borderRadius:"16px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",margin:"0 auto"},children:(0,l.jsxs)(r.zd,{rounding:4,width:"100%",children:[U&&B&&(0,l.jsx)(r.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,l.jsx)(r.Ee,{alt:D||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:B})}),(0,l.jsxs)(r.xu,{alignItems:"center","aria-label":L,dangerouslySetInlineStyle:{__style:K},direction:R?"row":"column",display:"flex",justifyContent:"between",marginTop:U?-2:0,padding:6,children:[(0,l.jsxs)(r.kC,{alignItems:"center",direction:R?"row":"column",justifyContent:"between",maxWidth:R?void 0:"560px",children:[W&&F&&(0,l.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:6*!R,marginEnd:4*!!R,children:(0,l.jsx)(r.xu,{height:H,width:H,children:(0,l.jsx)(r.zd,{rounding:R?4:6,children:(0,l.jsx)(r.Ee,{alt:N||"icon",naturalHeight:1,naturalWidth:1,src:F})})})}),!R&&S&&(0,l.jsx)(r.xv,{align:"center",weight:"bold",children:(0,l.jsx)("div",{className:"banner-title",style:{color:O,fontSize:"28px",marginBottom:"8px"},children:S})}),Q&&(0,l.jsxs)(r.xv,{align:R?"start":"center",overflow:"normal",children:[(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:`
                        .banner-text a {
                          color: ${O||""};
                          font-weight: bold;
                        }`}}),(0,l.jsx)("div",{className:"banner-text",dangerouslySetInnerHTML:{__html:Q},style:{color:O}})]})]}),(0,l.jsx)(r.xu,{marginBottom:R?0:-1,marginStart:4*!!R,marginTop:4*!R,children:(0,l.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",wrap:!R,children:[q||Y,V||X,J]})})]})]})})})}let N=({placementId:e})=>((0,s.useEffect)(()=>{(0,n.Z)("ExperienceBanner","/app/packages/experiences/Experiences/ExperienceBanner/ExperienceBanner.tsx")},[]),(0,l.jsx)(u.ZP,{placementId:e,predicate:e=>e.display_data?.component_type===1,children:({complete:e,dismiss:t,experience:{display_data:i}})=>{let n=(0,L.Z)(z.Z)(i);return(0,l.jsx)(B,{displayData:n,onComplete:()=>e(),onDismiss:t})}})),F=[502312,502320,502321,502322],W=({placementId:e})=>((0,s.useEffect)(()=>{(0,n.Z)("ExperienceBlank","/app/packages/experiences/Experiences/ExperienceBlank/ExperienceBlank.tsx")},[]),(0,l.jsx)(u.ZP,{eligibleIds:F,placementId:e,preventRemoval:!0,children:({complete:e})=>(e(),null)})),H=({data:e,buttonType:t,calloutType:i})=>{(0,s.useEffect)(()=>{(0,n.Z)("ActionButton","/app/packages/experiences/Experiences/ExperienceCallout/ActionButton.tsx")},[]);let{accessibilityLabel:o,disabled:a,label:c}=e,d=(0,v.HG)(),u="transparent";"primary"===t&&(u="upsell"===i?"red":"gray");let p="md";switch(i){case"neutral":p=d?"sm":"md";break;case"upsell":p=d?"md":"sm";break;default:p="md"}return(0,l.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:1,children:"link"===e.role?(0,l.jsx)(r.ZP,{accessibilityLabel:o,color:u,disabled:a,fullWidth:!0,href:e.href,onClick:e.onClick,rel:e.rel,size:p,target:e.target,text:c}):(0,l.jsx)(r.zx,{accessibilityLabel:o,color:u,disabled:a,fullWidth:!0,onClick:e.onClick,size:p,text:c})})};var U=i(894199);function V({dismissButton:e,message:t,primaryAction:i,secondaryAction:o,title:c}){(0,s.useEffect)(()=>{(0,n.Z)("CalloutNeutral","/app/packages/experiences/Experiences/ExperienceCallout/CalloutNeutral.tsx")},[]);let d=(0,v.HG)(),u=i||o,p=(0,a.ZP)(),{setObserverRef:h}=(0,U.NQ)(),m=e&&(0,l.jsx)(r.xu,{alignSelf:"baseline",children:(0,l.jsx)(r.hU,{accessibilityLabel:e.accessibilityLabel||p.bt("Ignorar texto explicativo", "Dismiss callout", "experiences.ExperienceCallout.CalloutNeutral.dismissLabel", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:e.onDismiss,size:"xs"})});return(0,l.jsxs)(r.xu,{ref:h,borderStyle:"sm",color:"transparent",direction:"row",display:"flex",marginBottom:4,padding:4,rounding:4,children:[(0,l.jsxs)(r.kC,{direction:d?"row":"column",width:"100%",wrap:!d,children:[(0,l.jsxs)(r.kC,{flex:"grow",justifyContent:"between",minWidth:0,children:[(0,l.jsxs)(r.kC,{direction:"column",flex:"shrink",children:[c&&(0,l.jsx)(r.xu,{marginBottom:2,children:(0,l.jsx)(r.xv,{size:"400",weight:"bold",children:c})}),(0,l.jsx)(r.xv,{children:t})]}),!d&&m]}),u&&(0,l.jsxs)(r.xu,{display:"flex",flex:"none",marginStart:"auto",marginTop:2*!d,children:[o&&(0,l.jsx)(H,{buttonType:"secondary",calloutType:"neutral",data:o}),i&&(0,l.jsx)(H,{buttonType:"primary",calloutType:"neutral",data:i})]})]}),d&&m]})}var $=i(93966),X=i(369416);let G=($.yF+$.lX)*$.yc-$.lX,Y=Array.from(Array($.g5-$.yc).keys()).reduce((e,t)=>{let i=t+$.yc,n=($.yF+$.lX)*i-$.lX;return e+(0,$.KN)($.yF,i,i,`.masonry-width-wrapper {
          width: ${n}px;
          min-width: ${n}px;
          margin: 0 auto;

        }`,$.lX)},`.masonry-width-wrapper {
      width: ${G}px;
      min-width: ${G}px;
      margin: 0 auto;

  }`),q=({children:e})=>{(0,s.useEffect)(()=>{(0,n.Z)("MasonryWidthWrapper","/app/packages/experiences/Experiences/ExperienceCallout/MasonryWidthWrapper.tsx")},[]);let t=(0,v.HG)();return(0,l.jsxs)(s.Fragment,{children:[t&&(0,l.jsx)(X.Z,{unsafeCSS:Y})," ",(0,l.jsx)("div",{className:"masonry-width-wrapper",children:e})]})};var J=i(667835);function Q({dismissButton:e,imageData:t,message:i,primaryAction:o,secondaryAction:c,title:d}){let u;(0,s.useEffect)(()=>{(0,n.Z)("UpsellCallout","/app/packages/experiences/Experiences/ExperienceCallout/UpsellCallout.tsx")},[]);let p=t?.component&&t.component.type===r.Ee,h=(0,v.HG)(),m=(0,a.ZP)(),{setObserverRef:f}=(0,U.NQ)(),x=!!(o||c);"string"==typeof i&&(u=(0,l.jsx)(r.xv,{children:i}));let g=m.bt("Ignorar texto explicativo", "Dismiss callout", "experiences.ExperienceCallout.UpsellCallout.dismissLabel", undefined, true),b=e&&(0,l.jsx)(r.xu,{alignSelf:h?"center":"baseline",children:(0,l.jsx)(r.hU,{accessibilityLabel:e.accessibilityLabel||g,icon:"cancel",iconColor:"darkGray",onClick:e.onDismiss,size:"xs"})});return(0,l.jsxs)(r.xu,{ref:f,borderStyle:"shadow",color:(0,J.Yc)()&&!h?"elevationFloating":"default",direction:"row",display:"flex",maxWidth:h?900:348,minWidth:h?380:348,padding:4,position:"relative",rounding:4,children:[(0,l.jsxs)(r.kC,{direction:h?"row":"column",width:"100%",wrap:!h,children:[(0,l.jsxs)(r.kC,{alignItems:h?"center":"start",flex:"grow",justifyContent:"between",minWidth:0,children:[t&&(0,l.jsx)(r.xu,{flex:"none",marginEnd:4,width:p?Math.min(t.width||128,128):void 0,children:(0,l.jsx)(r.zd,{rounding:t.mask?.rounding||0,wash:t.mask?.wash||!1,children:t.component})}),(0,l.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:"auto",marginEnd:0,marginStart:0,marginTop:"auto",smDisplay:"block",smMarginEnd:6,smMarginStart:6*!!t,children:(0,l.jsxs)(r.xu,{maxWidth:648,children:[d&&(0,l.jsx)(r.xu,{marginBottom:2,children:(0,l.jsx)(r.xv,{size:"400",weight:"bold",children:d})}),u||i]})}),!h&&b]}),x&&(0,l.jsxs)(r.xu,{display:"flex",flex:"none",marginStart:"auto",marginTop:2*!h,children:[c&&(0,l.jsx)(H,{buttonType:"secondary",calloutType:"upsell",data:c}),o&&(0,l.jsx)(H,{buttonType:"primary",calloutType:"upsell",data:o})]})]}),h&&b]})}var K=i(873651),ee=i(581829),et=i(641048),ei=i(25837),en=i(76774);let es=new r.Ry(ei.fe),er=new r.H3([es]),eo=(e,t,i)=>e&&e.url?{label:e.text,accessibilityLabel:t,href:e.url,role:"link",rel:(0,M.Z)({url:e.url})?"nofollow":"none",onClick:i}:{label:e.text,accessibilityLabel:t,onClick:i},ea=({experience:e,placementId:t,customFooterHeight:i})=>{(0,s.useEffect)(()=>{(0,n.Z)("ExperienceCallout","/app/packages/experiences/Experiences/ExperienceCallout/ExperienceCallout.tsx")},[]);let o=(0,v.HG)(),c=(0,a.ZP)(),{enableExperienceSession:d,endOnSurfaceChange:p}=(0,K.Z)(t),{navFooterHeight:h}=(0,en.Q)();return(0,l.jsx)(u.ZP,{eligibleTypes:[27,28],enableExperienceSession:d,experience:e,placementId:t,sessionEndOnSurfaceChange:p,children:({complete:e,dismiss:t,experience:n})=>{let a=(0,L.Z)(z.Z)(n.display_data),d=c.bt("Ignorar texto explicativo", "Dismiss callout", "experiences.ExperienceCallout.dismissLabel", undefined, true),u=a.completeButton?eo(a.completeButton,d,()=>e()):void 0,p=a.dismissButton&&!a.dismissButton.hideDismissButton?eo(a.dismissButton,d,()=>t()):void 0;switch(n.type){case 27:return(0,l.jsx)(q,{children:(0,l.jsx)(V,{dismissButton:{onDismiss:()=>t(),accessibilityLabel:d},message:(0,T.wQ)(a.message),primaryAction:u,secondaryAction:p,title:a.title})});case 28:let m=((e,t)=>{let i=(0,et.f)(e),n=(0,ee.Z)(t);return i?(0,l.jsx)(r.JO,{accessibilityLabel:"",color:n,icon:i,size:32}):null})(a.icon,a.iconColor);return(0,l.jsx)(r.mh,{zIndex:er,children:(0,l.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:o?24:(i??h)+8,transition:"margin-bottom 300ms ease-in-out"}},display:"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,children:(0,l.jsx)(r.xu,{children:(0,l.jsx)(Q,{dismissButton:{onDismiss:()=>t(),accessibilityLabel:d},imageData:m?{component:m}:void 0,message:(0,T.wQ)(a.message),primaryAction:u,secondaryAction:p,title:a.title})})})});default:return(0,l.jsx)(s.Fragment,{})}}})};class el extends s.PureComponent{componentDidMount(){let{experience:e}=this.props;if(e&&500500===e.experience_id){let{experience_id:t,placement_id:i}=e;this.props.experienceClient.viewExperience(i,t)}}componentDidUpdate(e){let t=e.experience,i=this.props.experience;if(i&&!t){let{experience_id:e,placement_id:t}=i;this.props.experienceClient.viewExperience(t,e)}}render(){return this.props.children}}function ec(e){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceCloseupFeatures","/app/packages/experiences/Experiences/ExperienceCloseupFeatures/ExperienceCloseupFeatures.tsx")},[]);let t=(0,A.Z)(),{experience:i}=(0,I.Z)(1000075);return(0,l.jsx)(el,{...e,experience:i,experienceClient:t})}var ed=i(437320),eu=i(78762);let ep=new r.Ry(ei.fe),eh=new r.H3([ep]),em=new r.H3([eh]),ef={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:6},ex={width:540,height:363},eg={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:4},eb={width:320,height:215},ey=(0,eu.Z)(()=>Promise.all([i.e("25418"),i.e("22244"),i.e("31142")]).then(i.bind(i,509691)),void 0,e=>509691,"app-www-video-VideoWrapper",e=>["25418","22244","31142"]),e_=e=>{let{isMobile:t,image:i,video:n,handleDismiss:s,title:o}=e,c=(0,a.ZP)(),d=t?eg:ef,u=t?eb:ex,p=(0,l.jsx)(r.xu,{display:"flex",justifyContent:t?"start":"end",margin:d.closeButtonMargin,position:"absolute",width:u.width-2*d.modalMargin,zIndex:em,children:(0,l.jsx)(r.hU,{accessibilityLabel:c.bt("Ignorar", "Dismiss", "experiences.ExperienceModalWindow.modalDismissIconButton", undefined, true),bgColor:"lightGray",icon:"cancel",iconColor:"darkGray",onClick:s,size:"sm"})}),h=i?i.imageAlt:o,m=i?i.url:n?.metadata?.thumbnail,f=i?.dominantColor?.length===3?`rgb(${i.dominantColor[0]}, ${i.dominantColor[1]}, ${i.dominantColor[2]})`:"rgb(111, 91, 77)",x=u.width/u.height,g={width:u.width,height:u.height};i&&i.width&&i.height?(x=i.width/i.height,g={width:i.width,height:i.height}):n&&n.metadata.width&&n.metadata.height&&(x=n.metadata.width/n.metadata.height,g={width:n.metadata.width,height:n.metadata.height});let b=m?(0,l.jsx)(r.Ee,{alt:h||"",color:f,fit:"cover",naturalHeight:g.height,naturalWidth:g.width,src:m}):void 0,y=Math.trunc(u.width/x);return(0,l.jsxs)(r.xu,{bottom:!0,height:y,left:!0,overflow:"hidden",right:!0,top:!0,width:u.width,children:[p,i&&b,n&&(0,l.jsx)(ey,{aspectRatio:x,backgroundColor:"transparent",captions:"",controls:!1,fallback:b,isAutoPlay:!0,loop:!0,objectFit:"cover",onPlay:()=>{},onPlayError:()=>{},pinKey:null,playbackRate:1,playing:!0,playsInline:!0,poster:i?.url||n.metadata.thumbnail,preload:"auto",src:n.url,volume:0})]})};function ev(e){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceMediaModalContent","/app/packages/experiences/Experiences/ExperienceMediaModal/ExperienceMediaModalContent.tsx")},[]);let{displayData:t,handleComplete:i,handleDismiss:o,isMobile:a}=e,{video:c,image:d,title:u,body:p,completeButton:h,dismissButton:m}=t,f=a?eg:ef,x=a?"center":"start",g=(0,M.Z)({url:h.url}),{setObserverRef:b}=(0,U.NQ)();return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(e_,{handleDismiss:o,image:d,isMobile:a,title:u,video:c}),(0,l.jsxs)(r.xu,{ref:b,direction:"column",display:"flex",justifyContent:"center",margin:f.gestaltModalMargin,children:[(0,l.jsx)(r.X6,{align:x,children:u}),(0,l.jsx)(r.xu,{marginBottom:4,marginTop:2,children:(0,l.jsx)(r.xv,{align:x,children:(0,T.wQ)(p)})}),(0,l.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},display:"flex",justifyContent:a?"center":"end",margin:-1,children:[m&&!m.hideDismissButton&&(0,l.jsx)(r.xu,{fit:!0,flex:a?"grow":"none",minWidth:a?130:void 0,padding:1,children:(0,l.jsx)(r.zx,{color:"gray",fullWidth:a,onClick:o,size:"lg",text:m.text})}),h&&(0,l.jsx)(r.xu,{fit:!0,flex:a?"grow":"none",minWidth:a?130:void 0,padding:1,children:h.url?(0,l.jsx)(r.ZP,{color:"red",fullWidth:a,href:h.url,onClick:i,rel:g?"nofollow":"none",size:"lg",text:h.text}):(0,l.jsx)(r.zx,{color:"red",fullWidth:a,onClick:i,size:"lg",text:h.text})})]})]})]})}var ew=i(982166),eE=i(530355),eC=i(678213),ek=i(816358),eS=i(32937),ej=i(104659);function eP({accessibilityModalLabel:e,allowScroll:t=!1,children:i,closeOnOutsideClick:o=!0,footer:c,isOpen:d,modalWidth:u,onDismiss:p,zIndex:h}){(0,s.useEffect)(()=>{(0,n.Z)("MobileModalWindow","/app/www/experiences/duplo/ExperienceMobileModalWindow/MobileModalWindow.tsx")},[]);let m=(0,a.ZP)(),f=(0,s.useRef)(null),{setAppFocusState:x}=(0,ej.G)();return((0,s.useEffect)(()=>(f.current=(0,eE.Z)(()=>{}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&f.current&&(window.cancelAnimationFrame(f.current),f.current=null)}),[]),(0,s.useEffect)(()=>(d?(ek.Z.pause(),x(!1)):(ek.Z.resume(),x(!0)),()=>{d&&(ek.Z.resume(),x(!0))}),[x,d]),(0,s.useEffect)(()=>{let e=d&&!t;return e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()}},[d,t]),d)?(0,l.jsx)(eS.Z,{children:(0,l.jsx)(r.mh,{children:(0,l.jsxs)(r.xu,{"aria-label":e,position:"relative",role:"dialog",zIndex:h||eC.b7,children:[(0,l.jsx)(r.iP,{accessibilityLabel:m.bt("Máscara do modal de pop-up em dispositivo móvel", "Mobile Popup Modal Mask", "mweb.experience_popup_modal.mask", undefined, true),onTap:()=>{o&&p()},tapStyle:"none",children:(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new r.Ry(1)})}),(0,l.jsxs)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}},overflow:"hidden",position:"fixed",rounding:4,top:!0,width:u,zIndex:new r.Ry(1),children:[i,c]})]})})}):null}let eA=new r.Ry(ei.fe),eI=new r.H3([eA]);function eT(e){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceModalWindow","/app/packages/experiences/Experiences/ExperienceMediaModal/ExperienceModalWindow.tsx")},[]);let t=(0,E.v9)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),i=t?.display_data?.delay_in_millis,[a,c]=(0,s.useState)(t&&!i),{logContextEvent:d}=(0,o.u)(),p=(0,v.HG)(),{enableExperienceSession:h,endOnSurfaceChange:m}=(0,K.Z)(e.placementId),f=(0,s.useCallback)((e,t)=>{let i=new URL(e.display_data.complete_button.url),n=i.searchParams.get("repin_id");d({event_type:t,aux_data:{component_id:i.pathname.split("/").pop(),repin_id:n}})},[d]);return(0,s.useEffect)(()=>{let e=t&&!t.display_data?.delay_in_millis;c(e),e&&t?.experience_id===507669&&f(t,16498)},[t,f]),(0,s.useEffect)(()=>{let e;return i&&(e=setTimeout(()=>{c(!0)},i)),()=>clearTimeout(e)},[i]),(0,l.jsx)(s.Fragment,{children:a&&(0,l.jsx)(u.ZP,{eligibleTypes:[26],enableExperienceSession:h,experience:t,placementId:e.placementId,sessionEndOnSurfaceChange:m,children:({complete:e,dismiss:i,experience:{display_data:n}})=>{let s=(0,L.Z)(z.Z)(n),o=t?.experience_id===507054,a=t?.experience_id===507669,d=()=>{a&&f(t,16499),c(!1),i()},u=({dangerouslyDisableOnNavigation:t})=>{o&&t(),e(),c(!1)},{title:h,body:m,completeButton:x}=s;return h&&m&&x.text?p?(0,l.jsx)(r.mh,{zIndex:eI,children:(0,l.jsx)(ew.ZP,{accessibilityModalLabel:"",onDismiss:d,size:"sm",children:(0,l.jsx)(ev,{displayData:s,handleComplete:u,handleDismiss:d,isMobile:!1})})}):(0,l.jsx)(eP,{accessibilityModalLabel:s?.title,isOpen:!0,modalWidth:320,onDismiss:d,children:(0,l.jsx)(ev,{displayData:s,handleComplete:u,handleDismiss:d,isMobile:!0})}):null}})})}let eR=e=>{(0,s.useEffect)(()=>{(0,n.Z)("ExperienceMetricsUnificationBanner","/app/packages/experiences/Experiences/ExperienceMetricsUnificationBanner/ExperienceMetricsUnificationBanner.tsx")},[]);let t=(0,a.ZP)(),[i,o]=(0,s.useState)(!0),{placementId:c}=e;return(0,l.jsx)(u.ZP,{eligibleIds:[502527],placementId:c,children:({experience:{display_data:e,type:n}})=>(0,l.jsx)(s.Fragment,{children:i&&5===n&&!!e.buttons&&e.buttons.length>=2&&!!e.title_text&&!!e.subtitle_text&&(0,l.jsx)(r.xu,{marginBottom:6,marginTop:6,children:(0,l.jsx)(r.ci,{dismissButton:{accessibilityLabel:e.buttons[1].text,onDismiss:()=>{o(!1)}},iconAccessibilityLabel:t.bt("Ícone de informações", "Info icon", "experiences.experienceMetricsUnificationBanner.iconAccessibilityLabel", undefined, true),message:e.subtitle_text,primaryAction:{href:e.buttons[0].uri,label:e.buttons[0].text,accessibilityLabel:e.buttons[0].text,onClick:({dangerouslyDisableOnNavigation:e})=>e(),role:"link"},title:e.title_text,type:"info"})})})})};var eZ=i(355940),eO=i(564325);let eL=ei.fe,ez=new r.Ry(eL-1);function eD(e){let{button:t,onClick:i}=e;return t.url?(0,l.jsx)(r.ZP,{color:"white",fullWidth:!0,href:t.url,onClick:i,rel:(0,M.Z)({url:t.url})?"nofollow":"none",text:t.text}):(0,l.jsx)(r.zx,{color:"white",fullWidth:!0,onClick:i,text:t.text})}let eM=e=>{let t,{anchors:i,experience:n,dismiss:o,complete:a,scrollToDismiss:c,onAnchorTouch:d,idealDirection:u,zIndex:p}=e,h=!0,{message:m,anchor:f,complete_button:x}=(n||{}).display_data,g=i[f],b=()=>{t&&clearTimeout(t),o()},y=()=>{t||h||(t=setTimeout(()=>b(),1500)),h=!1};(0,s.useEffect)(()=>(g&&(c&&(window.addEventListener("scroll",y),window.addEventListener("touchmove",y)),d&&g&&g.addEventListener("click","complete"===d?a:b)),()=>{c&&(window.removeEventListener("scroll",y),window.removeEventListener("touchmove",y),t&&clearTimeout(t)),d&&g&&g.removeEventListener("click","complete"===d?a:b)}),[g]);let{setObserverRef:_}=(0,eO.Z)(),v=(0,l.jsx)(r.pl,{anchor:g,idealDirection:u,onDismiss:b,zIndex:ez,children:(0,l.jsx)(r.xu,{ref:_,padding:4,tabIndex:0,children:(0,l.jsxs)(r.kC,{direction:"column",gap:3,children:[(0,l.jsx)(r.xv,{color:"light",children:m}),x&&(0,l.jsx)(eD,{button:x,onClick:a})]})})});return p?(0,l.jsx)(r.xu,{position:"fixed",zIndex:p,children:v}):v},eB=e=>{(0,s.useEffect)(()=>{(0,n.Z)("ExperiencePopover","/app/packages/experiences/Experiences/ExperiencePopover/ExperiencePopover.tsx")},[]);let{placementId:t,anchors:i,advertiserId:r}=e,[o,a]=(0,s.useState)(!0),c=()=>a(!1),{enableExperienceSession:d,endOnSurfaceChange:p}=(0,U.jQ)(t);return(0,l.jsx)(eZ.Z,{name:"ExperiencePopoverEducational",children:o&&(0,l.jsx)(u.ZP,{enableExperienceSession:d,placementId:t,predicate:e=>{if(e?.type!==29)return!1;let{anchor:t}=(e||{}).display_data;return!!t&&!!i[t]},sessionEndOnSurfaceChange:p,targeting:r?{advertiserId:parseInt(r,10)}:null,children:({complete:t,dismiss:i,experience:n})=>(0,l.jsx)(eM,{...e,complete:()=>{c(),t()},dismiss:()=>{c(),i()},experience:n})})})},eN=(e,t)=>{let i=RegExp("\\b"+t+"\\b","i");return e===t||e.match(i)};function eF({children:e,experiences:t,placementId:i,searchTerm:n,suggestions:r}){let{viewExperience:o}=(0,b.ZP)(),[a,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(new Set),u=t?.filter(e=>e.display_data?.component_type===3).map(e=>({...e.display_data,id:e.experience_id}))||[];return(0,s.useEffect)(()=>{if(!n||!r)return void l(null);if(!a?.search_query_list.find(e=>r.some(({label:t})=>eN(t??"",e)))){let e=u.find(e=>e.id!==a?.id&&e.search_query_list?.find(e=>r.some(({label:t})=>eN(t??"",e))));if(e){l(e);let{id:t}=e;c.has(t)||("number"==typeof t&&o(i,t),d(new Set(c).add(t)))}}},[n]),e({searchDelightConfig:a})}function eW(e,t){return t.map(t=>((e,t)=>{let i=RegExp("\\b"+t+"\\b","i");if(!e.match(i))return null;let n=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,n),e.slice(n,n+t.length)]})(e,t)).filter(Boolean).sort((e,t)=>e&&t?t[1].length-e[1].length:0).shift()}function eH({searchDelightText:e,searchDelightConfig:t}){(0,s.useEffect)(()=>{(0,n.Z)("SearchDelightText","/app/packages/experiences/Experiences/ExperienceSearchDelight/search-delight/SearchDelightText.tsx")},[]);let{text_background_color:i,text_colors:r=[]}=t,o=i?{backgroundColor:i,margin:"-2px",padding:"2px"}:void 0;if(!(r.length>1))return(0,l.jsx)("span",{style:{color:r[0],whiteSpace:"pre-wrap",...o},children:e},`searchDelight-${e}`);{let t=0;return(0,l.jsx)("span",{style:{whiteSpace:"pre-wrap",...o},children:e.split("").map((e,i)=>{let n=r[t];return" "!==e&&(t=(t+1)%r.length),(0,l.jsx)("span",{style:{color:n},children:e},`searchDelight-${i}`)})})}}function eU({allBold:e,searchDelightParts:t,searchDelightConfig:i,text:o,weightPivot:a}){(0,s.useEffect)(()=>{(0,n.Z)("HighlightTermWithSearchDelight","/app/packages/experiences/Experiences/ExperienceSearchDelight/search-delight/HighlightTermWithSearchDelight.tsx")},[]);let c=t[1],d=o.indexOf(c),u=d+c.length;return a<=d?(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(r.xv,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:o.substring(0,a)}),(0,l.jsxs)(r.xv,{inline:!0,weight:"bold",children:[o.substring(a,d),(0,l.jsx)(eH,{searchDelightConfig:i,searchDelightText:c}),o.substring(u)]})]}):a<=u?(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(r.xv,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:o.substring(0,d)}),(0,l.jsxs)(r.xv,{inline:!0,weight:"bold",children:[(0,l.jsx)(eH,{searchDelightConfig:i,searchDelightText:c}),o.substring(u)]})]}):(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(r.xv,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:o.substring(0,d)}),(0,l.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(eH,{searchDelightConfig:i,searchDelightText:c})}),(0,l.jsx)(r.xv,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:o.substring(u,a)}),(0,l.jsx)(r.xv,{inline:!0,weight:"bold",children:o.substring(a)})]})}function eV(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class e$ extends s.Component{constructor(...e){super(...e),eV(this,"state",{surveyLoaded:!1}),eV(this,"loadSurvey",()=>{this.setState({surveyLoaded:!0}),this.props.view?.()}),eV(this,"handleDismiss",()=>{this.props.dismiss(),this.setState({surveyLoaded:!1})}),eV(this,"handleComplete",()=>{this.props.complete(),this.setState({surveyLoaded:!1})})}componentDidMount(){(0,n.Z)("ExternalSurvey","/app/packages/experiences/Experiences/ExperienceSurvey/ExternalSurvey.tsx");let{displayData:{delay:e}}=this.props;this.surveyTimer=window.setTimeout(this.loadSurvey,e)}componentWillUnmount(){clearTimeout(this.surveyTimer)}render(){if(!this.state.surveyLoaded)return null;let{displayData:{buttons:e,detailed_text:t,title_text:i},setObserverRef:n}=this.props;return(0,l.jsx)(ew.ZP,{accessibilityModalLabel:this.props.i18n.bt("Você se importaria de responder a uma pesquisa?", "Would you mind taking a survey?", "User eval survey", undefined, true),footer:(0,l.jsx)(r.kC,{alignItems:"stretch",justifyContent:"end",children:e.map(e=>{if(!e.uri)return(0,l.jsx)(r.xu,{marginStart:1,children:(0,l.jsx)(r.zx,{fullWidth:!0,onClick:this.handleDismiss,text:e.text})},e.text);{let t=e.uri,i=(0,M.Z)({url:t});return(0,l.jsx)(r.xu,{marginStart:1,children:(0,l.jsx)(r.ZP,{color:"red",fullWidth:!0,href:t,onClick:this.handleComplete,rel:i?"nofollow":"none",target:"blank",text:e.text})},e.text)}})}),heading:i,onDismiss:this.handleDismiss,size:"sm",children:(0,l.jsx)(r.xu,{ref:n,padding:3,children:(0,l.jsx)(r.xv,{children:t})})})}}function eX(e){(0,s.useEffect)(()=>{(0,n.Z)("ExternalSurvey","/app/packages/experiences/Experiences/ExperienceSurvey/ExternalSurvey.tsx")},[]);let t=(0,a.ZP)();return(0,l.jsx)(e$,{...e,i18n:t})}function eG(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class eY extends s.Component{constructor(...e){super(...e),eG(this,"isOnClose",this.props.onCloseEnabled&&2===this.props.actionTrigger),eG(this,"state",{surveyAccepted:!1,surveyLoaded:!1,surveyLoadFailed:!1,showSurveyOnClose:this.isOnClose}),eG(this,"loadSurvey",(e=!0)=>{let{onView:t}=this.props;e&&t(),this.setState({surveyLoaded:!0})}),eG(this,"processIFrameMessage",e=>{let{presentationDelay:t=5e3,onComplete:i,surveyLink:n,onCloseEnabled:s}=this.props,r=e.origin||e.originalEvent.origin;n.startsWith(r)&&("surveyFinished"===e.data?i():"surveyLoaded"===e.data&&(window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.showSurveyOnLeavingPage(),s?this.actionTriggerHandler():this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)))}),eG(this,"handleShowSurvey",()=>{this.setState({surveyAccepted:!0})})}componentDidMount(){(0,n.Z)("AnketSurvey","/app/www/common/AnketSurvey/AnketSurvey.tsx"),window.addEventListener("message",this.processIFrameMessage),this.loadSurveyFailureTimeout=window.setTimeout(()=>{this.state.surveyLoaded||(window.clearTimeout(this.loadSurveyTimeout),this.setState({surveyLoadFailed:!0}))},15e3)}componentWillUnmount(){window.removeEventListener("message",this.processIFrameMessage),window.clearTimeout(this.loadSurveyTimeout),window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.props.unblock()}actionTriggerHandler(){let{actionTrigger:e,presentationDelay:t=5e3}=this.props;switch(e){case 1:this.loadSurvey();break;case 2:this.loadSurvey(!1);break;default:this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)}}showSurveyOnLeavingPage(){let{onView:e,block:t}=this.props;t(()=>{e(),this.setState({showSurveyOnClose:!1})})}render(){let{surveyAccepted:e,surveyLoadFailed:t,surveyLoaded:i,showSurveyOnClose:n}=this.state;if(t)return null;let{acceptButtonText:s,bodyText:o,declineButtonText:a,onDismiss:c,subtitleText:d,surveyLink:u,titleText:p,setObserverRef:h}=this.props,m=(0,l.jsx)("iframe",{"data-test-id":"anket-iframe",src:u,style:e?{border:0,minHeight:810,paddingBottom:4,width:"100%"}:{display:"none"},title:this.props.i18n.bt("Pesquisa do Pinterest", "Pinterest Survey", "Accessible label for survey frame", undefined, true)});return i&&!n?(0,l.jsx)(r.xu,{position:"absolute",zIndex:new r.Ry(1e3),children:(0,l.jsxs)(r.u_,{accessibilityModalLabel:this.props.i18n.bt("Você teria alguns minutos para responder a uma pesquisa?", "Have a few minutes to take a survey?", "User evaluation survey", undefined, true),footer:!e&&(0,l.jsxs)(r.xu,{display:"flex",justifyContent:"end",paddingX:1,children:[(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,l.jsx)(r.zx,{fullWidth:!0,onClick:()=>{this.setState({surveyAccepted:!1}),c()},text:a})}),(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,l.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:this.handleShowSurvey,text:s})})]}),heading:e?"":p,onDismiss:c,padding:"none",role:"alertdialog",size:e?"lg":"md",children:[(0,l.jsx)(r.xu,{ref:h,children:m}),!e&&(0,l.jsxs)(r.xu,{padding:3,children:[(0,l.jsx)(r.xv,{children:d}),(0,l.jsx)(r.xv,{children:o})]})]})}):m}}let eq=function(e){let t=(0,a.ZP)(),i=(0,s.use)(g.Us).navigator,[n,r]=(0,s.useState)(null),o=(0,s.useRef)(null);return(0,l.jsx)(eY,{...e,block:e=>{o.current=i.block((t,i)=>(r({location:t,action:i}),e(),!1))},i18n:t,onCloseEnabled:!1,unblock:()=>{if(o&&o.current?.(),n){let{location:e,action:t}=n;"PUSH"===t?i.push(`${e.pathname}${e.search}`):"POP"===t&&i.goBack()}}})},eJ=e=>{let{complete:t,dismiss:i,view:n,displayData:s}=e,{setObserverRef:r}=(0,U.NQ)(),{anket:o,buttons:a,delay:c,detailed_text:d,subtitle_text:u,title_text:p,action_trigger:h=3}=s,[m,f]=a;return o?(0,l.jsx)(eq,{acceptButtonText:f?.text||"",actionTrigger:h,bodyText:d,declineButtonText:m?.text||"",onComplete:t,onDismiss:i,onView:n,presentationDelay:c,setObserverRef:r,subtitleText:u,surveyLink:f?.uri||"",titleText:p}):(0,l.jsx)(eX,{complete:t,dismiss:i,displayData:s,setObserverRef:r,view:n})},eQ=e=>{let{experienceId:t,displayData:i}=e,{delay:n=0}=i,r={...i,delay:0},o={...e,displayData:{...r}},a=(0,s.useRef)(void 0),[c,d]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=["/pin-builder","/idea-pin-builder"],t=e=>window.location.pathname.includes(e),i=()=>{e.some(t)?a.current=setTimeout(()=>i(),3e3):d(!0)};return a.current=setTimeout(()=>i(),n),()=>{clearTimeout(a.current)}},[t,n]),c?(0,l.jsx)(eJ,{...o}):null};function eK(e){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceSurvey","/app/packages/experiences/Experiences/ExperienceSurvey/ExperienceSurvey.tsx")},[]);let{placementId:t,experience:i,targeting:r,eligibleIds:o}=e,{enableExperienceSession:a,endOnSurfaceChange:c}=(0,U.jQ)(t);return(0,l.jsx)(u.ZP,{disableAutoView:!0,eligibleIds:o||[],eligibleTypes:[5],enableExperienceSession:a,experience:i,placementId:t,sessionEndOnSurfaceChange:c,targeting:r,children:({complete:e,dismiss:i,view:n,experience:s})=>{let r=s.display_data,o=s.experience_id;return 1000421===t?(0,l.jsx)(eQ,{complete:e,dismiss:i,displayData:r,experienceId:o,view:n}):(0,l.jsx)(eJ,{complete:e,dismiss:i,displayData:r,experienceId:o,view:n})}})}var e0=i(475498);let e1=e=>{(0,s.useEffect)(()=>{(0,n.Z)("ExperienceToast","/app/packages/experiences/Experiences/ExperienceToast/ExperienceToast.tsx")},[]);let{logContextEvent:t}=(0,o.u)();return(0,l.jsx)(u.ZP,{eligibleIds:e.eligibleIds,eligibleTypes:[10],placementId:e.placementId,children:({complete:i,dismiss:n,experience:{display_data:s}})=>{let r=s.link||e.linkUrl;return(0,l.jsx)(e0.Z,{duration:s.duration,href:r,onClick:()=>{i(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&t({event_type:101,object_id_str:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?i():n()},text:s.text||""})}})};var e2=i(87853);function e5(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class e3 extends s.Component{constructor(...e){super(...e),e5(this,"componentDidMount",()=>{let{delay:e=2e3}=this.props;this.experienceToastsTimeout=window.setTimeout(()=>this.triggerEducationToasts(),e)})}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){let{toastManagerContext:e,completionOnDismissal:t,placementId:i,experienceIds:n}=this.props;e.showToast(({hideToast:e})=>(0,l.jsx)(e1,{completionOnDismissal:t,eligibleIds:n,onHide:e,placementId:i,shouldLogClicks:!1}))}render(){return null}}function e6(e){return(0,s.useEffect)(()=>{(0,n.Z)("ExperienceToastLaunchWrapper","/app/packages/experiences/Experiences/ExperienceToast/ExperienceToastLaunchWrapper.tsx")},[]),(0,l.jsx)(e3,{...e,toastManagerContext:(0,e2.dI)()})}function e4(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e5(e3,"defaultProps",{completionOnDismissal:!1});class e8 extends s.PureComponent{constructor(...e){super(...e),e4(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),e4(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:i,idealDirection:n,forceDirection:s}=this.props,o=i.slice(-3);return(0,l.jsx)(r.J2,{anchor:e,color:"white",forceDirection:s,idealDirection:n,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,l.jsxs)(r.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,l.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,l.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,l.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map(e=>(0,l.jsx)(r.xu,{height:60,paddingX:1,width:50,children:(0,l.jsx)(r.zd,{height:60,rounding:2,children:(0,l.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var e9=i(14890),e7=i(603316),te=i(9139),tt=i(675973);function ti({children:e}){let{checkExperiment:t}=(0,tt.Z)(),{isSessionEnabledPlacement:i}=(0,U.jQ)(),n=(0,s.useRef)({}),r=(0,s.useCallback)((e,t)=>{e&&!n.current[e]&&(0,e7.nP)("experience_framework_unmounted_placement_used",{sampleRate:.1,tags:{placementId:e,experienceId:t||"none"}})},[n]),o=(0,s.useCallback)((e,t)=>{n.current[e]=t},[n]),[a,c]=(0,s.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let i={...e};return delete i.mountedPlacements[t.payload],delete i.registeredAfterActionPlacements[t.payload],i}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registeredAfterActionPlacements:{...e.registeredAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registeredAfterActionPlacements:{}}),{mountedPlacements:d,registeredAfterActionPlacements:u}=a,p=(0,E.I0)(),h=(0,E.v9)(e=>e.experiences),m=(0,k.be)(),f=(0,k.Am)(),x=(0,k.Ig)(),{checkSurfaceForRefresh:y}=(()=>{let e=(0,g.TH)(),t=(0,E.v9)(e=>e.experiences),i=(e,i,n,s,r=!0,o,a)=>{let{shouldRefresh:l,refreshReasoning:c}=(0,T.nR)(n,i,o,t[n],s,r);l||(e[n]=t[n]),a&&(0,e7.nP)(`${a}.${l?"refreshed":"not_refreshed"}`,{tags:{placementId:n,refreshReasoning:c}})};return{checkPlacementForRefresh:(t,n,s,r={})=>{let{dontRefreshSSRPlacements:o=!1,experimentType:a,checkIfMounted:l=!1}=r;i(t,n,s,o,l,(0,T.Cv)(e),a)},checkSurfaceForRefresh:(t,n,s={})=>{let{dontRefreshSSRPlacements:r=!1,experimentType:o,checkIfMounted:a=!0}=s,l=(0,T.Cv)(e);l&&l.placements.forEach(e=>{i(t,n,e,r,a,l,o)})}}})(),_=async(e,t,i=!1)=>{try{let{resource_response:n}=await (0,k.x4)(e,t),{data:s}=n||{};s&&(y(s,a,{dontRefreshSSRPlacements:i,experimentType:"experience_framework_home_feed_init_fetch"}),p((0,te.OD)(s)))}catch(e){(0,e7.nP)("experience_framework_home_feed_init_fetch.error",{tags:{type:e instanceof Error?e.name:"unknown"}})}},v=(e,t,i)=>{let{isExperienceInitFetch:n,dontRefreshSSRPlacements:s}=i||{};n?_(e,t,s):p((0,k.fO)(e,t))},w=(0,s.useMemo)(()=>({...(0,e9.bindActionCreators)({completeExperience:m,dismissExperience:f,fetchAllExperiencesMulti:k.NW,fetchExperienceForPlacements:k.pz,mountPlacement:k.N,triggerExperimentsForPlacement:k.kd,viewExperience:x},p),fetchAllExperiences:v,mountPlacement:(e,...n)=>{((e,n,s)=>{let r=t("experience_framework_web_mount_placement_refresh_limiting_v2").anyEnabled,{enableExperienceSession:o}=i(e);p((0,k.N)(e,n,s,r&&o))})(e,...n),c({type:"MOUNT_PLACEMENT",payload:e})},unmountPlacement:e=>{c({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{c({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})},checkUsePlacementCalls:r,setUsePlacementCalls:o}),[m,f,p,c,x]),C=(0,s.useMemo)(()=>({experiences:h,mountedPlacements:d,registeredAfterActionPlacements:u,...w}),[h,d,u,w]);return(0,l.jsx)(b.L$,{value:C,children:e})}var tn=i(341742);function ts(e){let{extra_context:t,targeting:i}=e,n=(0,A.Z)();return(0,tn.Z)(()=>{n.fetchAllExperiences(t,i,{dontRefreshSSRPlacements:!0,isExperienceInitFetch:!0}),n.fetchAllExperiencesMulti()}),null}let tr=({placementId:e})=>{(0,s.useEffect)(()=>{(0,n.Z)("ExperiencesAfterAction","/app/packages/experiences/Framework/ExperiencesAfterAction.tsx")},[]);let{experienceForPlacement:t}=(0,A.Z)(e),{unmountPlacement:i,registerAfterActionPlacement:r}=(0,b.ZP)();return(0,s.useEffect)(()=>(r(e),()=>{i(e)}),[e,i,r]),(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(eT,{experience:t}),(0,l.jsx)(eK,{experience:t}),(0,l.jsx)(ea,{experience:t})]})};var to=i(998212);let ta=({placementId:e})=>{(0,s.useEffect)(()=>{(0,n.Z)("ExperiencesAfterClickthrough","/app/packages/experiences/Framework/ExperiencesAfterClickthrough.tsx")},[]);let t=w(),i=(0,to.Z)();return(0,s.useEffect)(()=>{let e=e=>{let{clickthroughProperties:i,offsiteTimedPair:n}=e;(i?.aux_data?.time_to_offsite??5e8)<5e8&&t("Clickthrough",{is_promoted:i?.aux_data?.is_promoted,pin_id:i?.object_id_str,clickthrough_duration_ns:n?.duration})};return e&&i?.onOffsiteEnd(e),()=>{e&&i?.removeOnOffsiteEnd(e)}},[t,i]),(0,l.jsx)(tr,{placementId:e})},tl=({abortNoActionPlacementTimeout:e,extraContext:t,placementId:i})=>{(0,s.useEffect)(()=>{(0,n.Z)("ExperiencesAfterNoAction","/app/packages/experiences/Framework/ExperiencesAfterNoAction.tsx")},[]);let r=w();return!function(e,t){let i=(0,s.useRef)(0),n=(0,s.useRef)(e);(0,s.useEffect)(()=>{n.current=e},[e]),(0,s.useEffect)(()=>{if("number"==typeof t)return i.current=window.setTimeout(()=>n.current(),t),()=>window.clearTimeout(i.current)},[t])}(()=>{r("NoAction",t)},e?null:4e3),(0,l.jsx)(tr,{placementId:i})};function tc(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class td extends s.Component{constructor(...e){super(...e),tc(this,"dismissRef",(0,s.createRef)()),tc(this,"state",{paused:!1}),tc(this,"dismissCb",()=>{this.dismissRef.current?.()})}componentWillUnmount(){let{anchor:e}=this.props;this.timer&&clearTimeout(this.timer),e?.removeEventListener("click",this.dismissCb)}setDefaultTooltip(e){e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,i){return(t&&e.text.replace("{boardName}",t),i)?i(e):e.text}render(){let{anchor:e,customWrapper:t,experienceIds:i,boardTextOverride:n,fontSize:o,forceDirection:a,hasFullWidthButton:c=!0,idealDirection:d,useMasonryFlyout:p,noClickToDismiss:h,onClickComplete:m,onClickDismiss:f,placementId:x,shouldTimeoutDismiss:g,textAlign:b,textOverflow:y,textOverrideFn:_,textWeight:v,customizedComplete:w,advertiserId:E,dismissButtonLocation:C,dismissButtonMarginTop:k,zIndex:S}=this.props,j=t||(({children:e})=>p?(0,l.jsx)(r.mh,{children:e}):e);return(0,l.jsx)(u.ZP,{eligibleIds:i,eligibleTypes:[8],placementId:x,targeting:E?{advertiserId:parseInt(E,10)}:null,children:({complete:t,dismiss:i,experience:u})=>{let{display_data:{scroll_to_dismiss:p,scroll_to_dismiss_delay_in_seconds:x=0,...E}}=u,P=p&&e,A=()=>{I(),this.timer||(this.timer=setTimeout(i,1e3*x))},I=()=>{P&&(window.removeEventListener("scroll",A),window.removeEventListener("touchmove",A))},T=()=>{I(),t()};return(P&&(window.addEventListener("scroll",A),window.addEventListener("touchmove",A)),this.setDefaultTooltip(E),E.has_tooltip)?(g&&E.disappearTime&&E.disappearTime>0&&(this.timer=setTimeout(()=>(A(),null),E.disappearTime)),E.has_tooltip&&(this.dismissRef.current=A,e?.addEventListener("click",this.dismissCb)),(0,l.jsx)(s.Fragment,{children:E.has_tooltip&&!this.state.paused&&(E.thumbnail_urls?(0,l.jsx)(e8,{anchor:e,dismiss:A,forceDirection:a,idealDirection:d||"down",text:E.text,thumbnails:E.thumbnail_urls}):(0,l.jsx)(j,{children:(0,l.jsx)(r.pl,{anchor:e,forceDirection:a,idealDirection:d||"down",onDismiss:h?()=>{}:A,shouldFocus:!1,size:"sm",zIndex:S,children:(0,l.jsxs)(r.xu,{column:12,padding:3,children:[(0,l.jsxs)(r.xv,{align:"right"===b?"end":b,color:"light",overflow:y,size:o,weight:v||"bold",children:[this.getText(E,n,_),E.secondary_cta_link&&(0,l.jsx)(r.xu,{display:"inlineBlock",marginStart:1,children:(0,l.jsx)(r.xv,{color:"light",size:o,weight:"bold",children:(0,l.jsx)(r.rU,{display:"inlineBlock",href:E.secondary_cta_link.url,target:"blank",underline:"hover",children:E.secondary_cta_link.text})})})]}),E.sub_text&&(0,l.jsx)(r.xu,{paddingY:2,children:(0,l.jsx)(r.xv,{color:"light",size:o,children:E.sub_text})}),(E.dismiss_button_text||E.complete_button_text)&&(0,l.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:C||"start",marginTop:k||2,children:[E.dismiss_button_text&&(0,l.jsx)(r.xu,{column:6,marginEnd:1,children:(0,l.jsx)(r.zx,{color:"white",fullWidth:c,onClick:()=>{f&&f(),A()},size:"md",text:E.dismiss_button_text})}),E.complete_button_text&&(0,l.jsx)(r.xu,{column:E.dismiss_button_text?6:12,children:w?(0,l.jsx)(r.iP,{fullHeight:!0,onTap:()=>{T(),m&&m()},rounding:2,children:(0,l.jsx)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,l.jsx)(r.xv,{color:"light",weight:"bold",children:E.complete_button_text})})}):(0,l.jsxs)(r.kC,{justifyContent:"center",children:[E.complete_button_cta_url&&(0,l.jsx)(r.ZP,{color:"white",fullWidth:c,href:E.complete_button_cta_url,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),T(),m&&m()},size:"md",target:E.complete_button_cta_url?"blank":null,text:E.complete_button_text}),!E.complete_button_cta_url&&(0,l.jsx)(r.zx,{color:"white",fullWidth:c,onClick:()=>{T(),m&&m()},size:"md",text:E.complete_button_text})]})})]})]})})}))})):(T(),null)}})}componentDidMount(){(0,n.Z)("ExperienceTooltip","/app/packages/experiences/Experiences/ExperienceTooltip/ExperienceTooltip.tsx")}}tc(td,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0});let tu=new r.Ry(669),tp={1:"up",2:"right",3:"down",4:"left"},th=({anchors:e={},complete:t,dismiss:i,displayData:o,idealDirection:a,platform:c,touchToDismiss:d=!0,useMasonryFlyout:u=!1})=>{(0,s.useEffect)(()=>{(0,n.Z)("Tooltip","/app/packages/experiences/Experiences/ExperienceTooltip/tooltip/Tooltip.tsx")},[]);let{anchors_by_platform:p,button_text:h,button_uri:m,display_type:f,flyout_direction:x,scroll_to_dismiss:g,scroll_to_dismiss_delay_in_seconds:b=0,text:y}=o||{},_=e[p[c]?.anchor],v=(0,s.useCallback)(()=>{g&&(window.removeEventListener("scroll",v),window.removeEventListener("touchmove",v)),d&&_&&_.removeEventListener("click",v),setTimeout(()=>i(),1e3*b)},[_]);if((0,s.useEffect)(()=>{_&&(g&&(window.addEventListener("scroll",v),window.addEventListener("touchmove",v)),d&&_.addEventListener("click",v))},[_]),!_)return null;let w=tp[x],E=m&&(m.startsWith("https://")||m.startsWith("http://")),C=()=>{g&&(window.removeEventListener("scroll",v),window.removeEventListener("touchmove",v)),d&&_.removeEventListener("click",v),t()};return(0,l.jsx)(s.Fragment,{children:1===f&&(0,l.jsx)(({children:e})=>u?(0,l.jsx)(r.mh,{zIndex:tu,children:e}):(0,l.jsx)(r.xu,{zIndex:tu,children:e}),{children:(0,l.jsx)(r.pl,{anchor:_,idealDirection:w||a||"down",onDismiss:v,shouldFocus:!1,size:"sm",children:(0,l.jsxs)(r.xu,{padding:4,width:"220px",children:[(0,l.jsx)(r.xv,{align:"center",color:"light",weight:"bold",children:y}),h?(0,l.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,l.jsx)(r.xu,{column:8,children:m?(0,l.jsx)(r.ZP,{color:"white",fullWidth:!0,href:m,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),C()},size:"md",target:E?"blank":null,text:h}):(0,l.jsx)(r.zx,{color:"white",fullWidth:!0,onClick:C,size:"md",text:h})})}):null]})})})})},tm=({anchors:e,idealDirection:t,onCompleteByAnchor:i,placementId:r,positionRelativeToAnchor:o,touchToDismiss:a,useMasonryFlyout:c})=>{(0,s.useEffect)(()=>{(0,n.Z)("ExperienceTooltipAnchor","/app/packages/experiences/Experiences/ExperienceTooltip/ExperienceTooltipAnchor.tsx")},[]);let d=(0,v.ml)();return(0,l.jsx)(u.ZP,{placementId:r,predicate:t=>{let{display_data:i}=t;if(i?.component_type===2){let{anchors_by_platform:t}=i;if(t?.web){let{anchor:i,placement:n}=t.web;return n===r&&i in e}}return!1},children:({complete:n,dismiss:s,experience:r})=>(0,l.jsx)(th,{anchors:e,complete:n,dismiss:s,displayData:r.display_data,idealDirection:t,onCompleteByAnchor:i,platform:d?"web_mobile":"web",positionRelativeToAnchor:o,touchToDismiss:a,useMasonryFlyout:c})})};class tf extends s.Component{constructor(...e){var t,i,n;super(...e),i={paused:!1},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){(0,n.Z)("ExperienceTooltipNoButtons","/app/packages/experiences/Experiences/ExperienceTooltip/ExperienceTooltipNoButtons.tsx"),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}renderFlyout(e){let{anchor:t,flyoutSize:i,idealDirection:n}=this.props;return(0,l.jsx)(r.pl,{anchor:t,idealDirection:n||"down",message:e,onDismiss:()=>{},size:i})}render(){let{experienceIds:e,placementId:t,shouldTimeoutDismiss:i}=this.props;return(0,l.jsx)(u.ZP,{eligibleIds:e,eligibleTypes:[8],placementId:t,children:({complete:e,dismiss:t,experience:n})=>{this.experience=n;let{display_data:s}=n;return s.has_tooltip?(i&&s.disappearTime&&s.disappearTime>0&&(this.timer=setTimeout(()=>(t(),null),s.disappearTime)),(0,l.jsx)(r.xu,{"data-test-id":"experience-tooltip-no-buttons",zIndex:new r.Ry(10),children:s.has_tooltip&&!this.state.paused&&this.renderFlyout(s.text)})):(e(),null)}})}}function tx(e){(0,s.useEffect)(()=>{(0,n.Z)("PinnerUpgradeToBusinessBanner","/app/packages/experiences/Experiences/ExperienceUpsellPinnersToPartner/PinnerUpgradeToBusinessBanner.tsx")},[]);let t=(0,a.ZP)(),{handleComplete:i,handleDismiss:o}=e;return(0,l.jsx)(r.xu,{marginBottom:2,marginEnd:"auto",marginStart:"auto",marginTop:2,width:"55%",children:(0,l.jsx)(r.XA,{dismissButton:{accessibilityLabel:t.bt("Botão Ignorar banner", "Dismiss Banner Button", "PinnerUpgradeToBusinessBanner.primaryAction.accesibility", undefined, true),onDismiss:o},imageData:{component:(0,l.jsx)(r.JO,{accessibilityLabel:"graph",color:"default",icon:"graph-bar",size:45})},message:t.bt("Atualize para uma conta business gratuita do Pinterest e acesse ferramentas que ajudam a aumentar o tráfego, ampliar seu público e vender mais produtos", "Upgrade to a free Pinterest business account to unlock tools that help drive traffic, grow your audience and sell more products", "PinnerUpgradeToBusinessBanner.message", undefined, true),primaryAction:{label:t.bt("Atualizar", "Upgrade", "PinnerUpgradeToBusinessBanner.primaryAction", undefined, true),href:"/business/convert/",accessibilityLabel:t.bt("Botão Atualizar", "Upgrade Button", "PinnerUpgradeToBusinessBanner.primaryAction.accesibility", undefined, true),onClick:i,role:"link"},title:t.bt("Descubra seus Pins com melhor desempenho", "Discover your top performing Pins", "PinnerUpgradeToBusinessBanner.title.variant_a", undefined, true)})})}let tg=({placementId:e})=>((0,s.useEffect)(()=>{(0,n.Z)("ExperiencePinnerUpgradeToBusinessBanner","/app/packages/experiences/Experiences/ExperienceUpsellPinnersToPartner/ExperiencePinnerUpgradeToBusinessBanner.tsx")},[]),(0,l.jsx)(u.ZP,{eligibleIds:[503755],placementId:e,children:({complete:e,dismiss:t})=>(0,l.jsx)(tx,{handleComplete:e,handleDismiss:t})}))},854237:function(e,t,i){i.d(t,{$S:()=>n,V$:()=>s,_4:()=>o,iY:()=>a,mR:()=>r});let n="REFRESH_ALL_EXPERIENCES_MULTI",s="UPDATE_EXPERIENCE_MULTI",r="FETCH_EXPERIENCES",o="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE"},9139:function(e,t,i){i.d(t,{OD:()=>a,Yb:()=>o,cL:()=>l,xF:()=>s,xW:()=>r});var n=i(854237);let s=e=>({type:n.$S,payload:{experiencesMulti:e}}),r=(e,t,i)=>({type:n.V$,payload:{placementId:e,experienceId:t,status:i}}),o=(e,t,i)=>({type:n.iY,payload:{placementId:e,experienceId:t,status:i}}),a=e=>({type:n._4,payload:{experiences:e}}),l=e=>({type:n.mR,payload:{experiences:e}})},531014:function(e,t,i){i.d(t,{dg:()=>_,A0:()=>m,E3:()=>u,wQ:()=>y,MQ:()=>h,ck:()=>v,nR:()=>p,Cv:()=>f});var n=i(667294),s=i(20256),r=i(506662);let o=[11,1000168],a={1:{id:1,route:"/",onRoute:r.HV,placements:[11,1000541,1000503,40001]},13:{id:13,route:"/business/hub/",onRoute:r.h3,placements:[1000168]}};var l=i(510928),c=i(47426),d=i(785893);function u(e){return!!e&&0!==e.type}let p=(e,t,i,n,s,r=!0)=>{let a="existingExperience";return n?u(n)?i&&(a="placementInSurface",!i.placements.includes(e))?{shouldRefresh:!0,refreshReasoning:"placementNotInSurface"}:s?(a="inSSRPlacement",o.includes(e)?{shouldRefresh:!1,refreshReasoning:a}:{shouldRefresh:!0,refreshReasoning:"notAnSSRPlacement"}):!r||(a="placementMounted",t.mountedPlacements[e]||t.registeredAfterActionPlacements[e])?{shouldRefresh:!1,refreshReasoning:a}:{shouldRefresh:!0,refreshReasoning:"placementNotMounted"}:{shouldRefresh:!0,refreshReasoning:"experienceNotRenderable"}:{shouldRefresh:!0,refreshReasoning:"noExistingExperience"}},h=(e,t,i)=>{let n=e[i];return t[i]&&u(n)?n:null};function m(e){return e.display_data?.anchor}function f(e){return Object.values(a).find(t=>t.onRoute?t.onRoute(e):t.route===e.pathname)}let x=/<(\w+)\s*([^>]*)>([^<]*)<\/\1>/gim,g=/(?:href)=["']?([^"'>\s\\]*)["']?/im,b=/(?:target)=["']?([^"'>\s\\]*)["']?/im,y=e=>{let t=function(e){let t=[],i=0;for(let n of Array.from(e.matchAll(x))){if(n.index>i){let s=e.slice(i,n.index);s&&t.push({type:"text",content:s})}let[s,r,o,a]=n;switch(r){case"a":t.push({type:"link",content:a||"",attrs:o||""});break;case"b":t.push({type:"bold",content:a||""});break;default:t.push({type:"text",content:s})}i=n.index+s.length}if(i<e.length){let n=e.slice(i);n&&t.push({type:"text",content:n})}return t}(e);return(0,d.jsx)(s.xv,{inline:!0,children:t.map(({type:e,content:t,attrs:i},r)=>{switch(e){case"text":return(t?.split(`
`)||[]).map((e,i)=>(0,d.jsxs)(n.Fragment,{children:[i>0&&(0,d.jsx)("br",{}),(0,d.jsx)(s.xv,{inline:!0,children:e})]},`${t}-${i}`));case"bold":return(0,d.jsx)(s.xv,{inline:!0,weight:"bold",children:t},`${t}-${r}`);case"link":let o=i?.match(g),a=o&&o.length>1?o[1]:void 0,l=i?.match(b),u=l&&l.length>1?l[1]:void 0;if(!a)return(0,d.jsx)(s.xv,{inline:!0,children:t},`${t}-${r}`);let p=!1;return p=(0,c.Z)({url:a}),(0,d.jsx)(s.rU,{display:"inline",externalLinkIcon:p?"default":"none",href:a,rel:p?"nofollow":"none",target:"_blank"===u?"blank":void 0,children:t},`${a}-${r}`);default:return null}})})},_=()=>"undefined"!=typeof window&&performance&&performance.now?Math.floor(performance.now()):Math.floor(Date.now()),v=(0,l.Z)()&&(0,l.Z)().debug_experience_session?console:{log:(...e)=>{},error:(...e)=>{},warn:(...e)=>{}}},686319:function(e,t,i){i.d(t,{Z:()=>s});var n=i(575108);function s({url:e,method:t,data:i,ignoreBookmark:s,callOptions:r,headers:o}){let a={url:e,data:i,...null!=s?{ignore_bookmark:s}:{},..."PATCH"===t?{patchInsteadOfPut:!0}:{}},l=n.Z.create("ApiResource",a);switch(t){case"POST":return l.callCreate(r,o);case"PUT":case"PATCH":return l.callUpdate(r,o);case"DELETE":return l.callDelete(r,o);default:return l.callGet(r,o)}}},678213:function(e,t,i){i.d(t,{JN:()=>u,Vf:()=>p,ZM:()=>l,b2:()=>c,b7:()=>a,i_:()=>d});var n=i(20256),s=i(883817),r=i(667835),o=i(252564);let a=new n.Ry(1e3),l=new n.H3([o.Z,s.B_]),c=new n.H3([l]),d=12,u=({variant:e,isDarkMode:t})=>{let i=t?r.N$:"#FFFFFF";return{__style:"fullpage"===e?{backgroundColor:i,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100%",height:"100%",left:0,right:0,top:0,bottom:0,zIndex:1,overflowY:"hidden"}:"fullscreen"===e?{backgroundColor:i,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{backgroundColor:i,border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",overflow:"hidden",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{backgroundColor:i,border:t?void 0:"1px solid #efefef",borderRadius:"32px 32px 0 0",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e||"euPrompt"===e?{backgroundColor:i,border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"euPrompt"===e?"5%":"8px",right:"euPrompt"===e?"5%":"8px",overflow:"auto"}:"repinPage"===e?{backgroundColor:t?r.k7:"#FFFFFF",borderRadius:"32px 32px 0 0",border:t?void 0:"1px solid #efefef",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",left:"0px",maxHeight:"100%",overflow:"hidden",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:{backgroundColor:i,borderRadius:"32px 32px 0 0",border:t?void 0:"1px solid #efefef",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",left:"0px",maxHeight:"100%",overflow:"hidden",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}}},p=({isFullscreen:e,isTablet:t,isShowing:i,isRelatedInterestsModal:n,isDarkMode:s})=>{let r={border:s?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},o=i?"translateY(0)":"translateY(100vh)";return r.height=e?"100vh":"",t&&n&&(r={...r,width:425,left:"50%",transform:"translateX(-50%)"},o=i?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...r,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:o}}}},93966:function(e,t,i){i.d(t,{$H:()=>a,$q:()=>_,$u:()=>s,Az:()=>u,Cw:()=>k,D6:()=>d,GZ:()=>C,KN:()=>w,Ke:()=>y,Lo:()=>r,P2:()=>x,TS:()=>E,Wv:()=>v,ZZ:()=>h,g5:()=>m,jC:()=>l,lX:()=>f,oX:()=>g,qG:()=>b,tG:()=>o,yF:()=>n,yc:()=>p,yt:()=>c});let n=236,s=270,r=157.33333333333334,o=175,a=24,l=4,c=8,d=2,u=8,p=2,h=14,m=16,f=16,x=24,g=16,b=-1,y=2,_=(e=!1,t=!1)=>e?t?f:12:x,v=({defaultItemWidth:e,contentVisibleItemCount:t,gap:i,moduleWidth:n})=>t||n?(n-((Math.ceil(t)+1)*i+8))/t:e,w=(e,t,i,n,s=h)=>{let r=e+s;return`
@media (min-width: ${t*r}px) and (max-width: ${(i+1)*r-1}px) {
  ${n}
}
`},E=(e,t,i)=>{let s=i?3:2,r=t?5:s,a=t?n:o,l=t?g:c,d=a*r+l*r-(t||!t&&i?12:6);if(!e)return d;for(let t=r;t>=2;t-=1)if(e>d)break;else d=a*t+l*t;return d};function C(e){let t=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return t?{width:t.width,height:t.height}:{width:0,height:0}}function k(e){return!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)}},809295:function(e,t,i){function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>u,ZP:()=>h,LU:()=>p});let s=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,r={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},o={},a={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${o[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[r.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[r.exit]:a,[r.stopped]:a,[r.paused]:a,[r.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){n(this,"lastIntersectionChange",null),n(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),n(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),n(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),n(this,"handleIntersectionVisibilityChange",(e,t)=>{this.lastIntersectionChange=e,[{type:1,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.top>=143&&e.boundingClientRect.top<t},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.top<143||e.boundingClientRect.top>=t}},{type:50,isVisible:e=>e.intersectionRatio>=.5,isHidden:e=>e.intersectionRatio<.5},{type:80,isVisible:e=>e.intersectionRatio>=.8,isHidden:e=>e.intersectionRatio<.8},{type:2,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.bottom<=t&&e.boundingClientRect.bottom>=143},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.bottom<143||e.boundingClientRect.bottom>t}}].forEach(({type:i,isVisible:n,isHidden:s})=>{n(e)?this.lastLoggedVisibleEvent[i]||(this.addVisibleEvent(i,t),this.lastLoggedVisibleEvent[i]=!0):s(e)&&this.lastLoggedVisibleEvent[i]&&(this.addHiddenEvent(i,t),this.lastLoggedVisibleEvent[i]=!1)})}),n(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,i=Date.now();this.handleIntersectionVisibilityChange(e,i),t&&!this.inViewport?(this.startTime=i,this.pinCellWidth=this.node.offsetWidth,this.pinCellHeight=this.node.offsetHeight,this._debug(r.enter,{startTime:i,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(r.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.pinCellWidth=0,this.pinCellHeight=0,this.visibleEvents=new Map,this.hiddenEvents=new Map,this.lastLoggedVisibleEvent={1:!1,50:!1,80:!1,2:!1}}addVisibleEvent(e,t){let i=this.visibleEvents.get(e)||[];i.push(1e6*t),this.visibleEvents.set(e,i)}addHiddenEvent(e,t){let i=this.hiddenEvents.get(e)||[];i.push(1e6*t),this.hiddenEvents.set(e,i)}hasVisibleEvent(e){return this.visibleEvents.has(e)}hasHiddenEvent(e){return this.hiddenEvents.has(e)}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,s&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this.addHiddenEvent(102,Date.now()),this._debug(r.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(r.resumed,{startTime:e}),this.startTime=e,this.addVisibleEvent(102,e),Object.keys(this.lastLoggedVisibleEvent).forEach(e=>{this.lastLoggedVisibleEvent[e]=!1}),this.lastIntersectionChange&&this.handleIntersectionVisibilityChange(this.lastIntersectionChange,e)}return this}stop(e){return this.inViewport&&(this._debug(r.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight,visibleEvents:this.visibleEvents,hiddenEvents:this.hiddenEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}_debug(e,t){if(s)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case r.flushed:case r.paused:case r.exit:o[this.debugId]=!0}}}function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u=!0,p=!1;class h{constructor(){d(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),d(this,"_handleMutations",(e,t)=>{let i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let i=this.activeImpressions.get(e);i&&(i.stop(t),i.mutationObserver&&this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer?.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer?.observe(e);let i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),t.mutationObserver&&this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=u){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority===p&&(this.pausePriority=e))}resume(e=u){(e!==p||this.pausePriority!==u)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:i}=t.getBoundingClientRect();return i>e?i:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:i}=t.getBoundingClientRect();return i<e?i:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let i={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer?.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(e=>this.observer?.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},816358:function(e,t,i){i.d(t,{Z:()=>n});let n=new(i(809295)).ZP},302148:function(e,t,i){function n(e,t,i){return e.split(i).map(e=>{if(e.match(i)){let i=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,i))return t[i]}return e})}i.d(t,{Wc:()=>a,XB:()=>o,bF:()=>c,nk:()=>r});let s=/(\{\{\s*\w+\s*\}\})/g;function r(e,t){return n(e,t,s)}function o({text:e,markers:t,jsxReplacements:i}){let s=["strong","a","em","span"],r=/(\{\{\s*\w+\s*\}\})/g,o=/<\s*(strong|a|em|span)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,a=/<(strong|a|em|span)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,l=/<(strong|a|em|span)\b[^>]*>(.*?)<\/\1>/,c=e.match(o)?.map(e=>{let s=e.match(a),o=(s&&s[2])??0,c=e.match(l),d=(c&&c[2])??"",u=t?n(d,t,r):[d];return o&&i&&i[o]?.({innerHtmlStrings:u})});return e.split(o)?.map(e=>s.some(t=>e===t)?c?.shift():t?n(e,t,r):e)}function a(e,t){return n(e,t,s).join("")}let l=/(\{\s*\w+\s*\})/g;function c(e,t){return n(e,t,l)}},226967:function(e,t,i){i.d(t,{Z:()=>n});function n(e){if(!e)return!1;let t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}},612647:function(e,t,i){i.d(t,{Z:()=>n});function n(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}},13020:function(e,t,i){i.d(t,{Z:()=>n});function n(e,t,i=28){if(!e?.resurrection_info&&!(t?.isAuth&&t.resurrectionInfo))return!1;let s=t?t.isAuth&&t.resurrectionInfo?.resurrectionDate:e?.resurrection_info?.resurrection_dt,r=new Date,o=s?new Date(s):r;return o.setDate(o.getDate()+i),new Date().getTime()<o.getTime()}},765533:function(e,t,i){i.d(t,{Z:()=>n});let n={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},506662:function(e,t,i){i.d(t,{Ui:()=>f,R$:()=>el,dZ:()=>d,bW:()=>b,Ur:()=>C,Bg:()=>j,pV:()=>K,Ep:()=>q,RU:()=>ej,QD:()=>Z,Q0:()=>es,tZ:()=>er,lY:()=>w,rk:()=>eR,OJ:()=>c,XQ:()=>H,En:()=>ee,Xn:()=>W,PY:()=>D,L6:()=>Q,fY:()=>ey,f1:()=>eo,Y8:()=>k,C$:()=>N,cY:()=>ew,$Y:()=>ed,z_:()=>en,ey:()=>eb,dK:()=>E,Ig:()=>eF,gT:()=>et,or:()=>z,HV:()=>F,Fr:()=>eg,E0:()=>eu,Zz:()=>U,H_:()=>L,gf:()=>X,jG:()=>eD,mP:()=>M,q_:()=>Y,Fy:()=>p,e:()=>ez,re:()=>V,LO:()=>eT,OX:()=>ea,mY:()=>eA,l4:()=>J,b0:()=>g,mk:()=>eP,oF:()=>eC,mW:()=>S,LM:()=>eh,FO:()=>$,dm:()=>T,ej:()=>eI,Lj:()=>O,jC:()=>em,OK:()=>G,m8:()=>eM,am:()=>a,uj:()=>eB,O7:()=>eS,b_:()=>eE,KY:()=>x,uM:()=>ex,ll:()=>eW,x7:()=>e_,j8:()=>ef,Q8:()=>P,dt:()=>_,Mc:()=>eN,XE:()=>u,Y_:()=>A,h3:()=>eO,Ni:()=>v,hd:()=>B,dr:()=>ei,bo:()=>ep,J:()=>l,N6:()=>I,z6:()=>R,$V:()=>ec,Gl:()=>ek,wg:()=>y,pD:()=>m,XU:()=>ev,nU:()=>eL,bb:()=>eZ,AX:()=>h});var n=i(512599),s=i(414471);let r=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv|shopping|videos|age-apeal|oauth)\/)[\w\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+(?=\/|$)/);var o=i(215295);let a=e=>r.test(e.pathname),l=(e,t)=>{let{pathname:i}=e;return a(e)&&i.match(t||"?")},c=e=>{let{pathname:t}=e;return!!(0,n.LX)({path:"/:username/:boardId/:boardSectionId",end:!0},t)&&!t.match(/^\/.+\/.+\/(_tools)/i)},d=(e,t)=>{let{pathname:i}=e;return c(e)&&i.match(t||"?")},u=e=>!!(0,n.LX)({path:"/board/:id/edit",end:!0},e.pathname),p=e=>!!(0,n.LX)({path:"/board/:id/edit/collaborators",end:!0},e.pathname),h=e=>!!(0,n.LX)({path:"/board/:id/edit/add_collaborators",end:!0},e.pathname),m=e=>!!(0,n.LX)({path:"/boardsection/:id/edit",end:!0},e.pathname),f=e=>!!(0,n.LX)({path:"/pin/:id/comments",end:!0},e.pathname),x=e=>!!(0,n.LX)({path:"/pin/:id/edit",end:!0},e.pathname),g=e=>!!(0,n.LX)({path:"/conversation/:id",end:!0},e.pathname),b=e=>!!(0,n.LX)({path:"/appealed-pin/",end:!0},e.pathname),y=e=>!!(0,n.LX)({path:"/reports-and-violations/",end:!0},e.pathname),_=e=>e.pathname.startsWith("/age-appeal"),v=e=>e.pathname.startsWith("/business/"),w=e=>!!(0,n.LX)({path:"/business/business-access/:userBizId/dashboard",end:!0},e.pathname)||!!(0,n.LX)({path:"/business/business-manager/:userBizId/dashboard",end:!0},e.pathname)||!!(0,n.LX)({path:"/business/business-hierarchy/:businessHierarchyId/dashboard",end:!0},e.pathname),E=e=>!!(0,n.LX)({path:"/business/business-hierarchy/:businessHierarchyId/hierarchy",end:!0},e.pathname),C=e=>!!(0,n.LX)({path:"/business/business-hierarchy/:businessHierarchyId/dashboard",end:!0},e.pathname),k=e=>!!(0,n.LX)({path:"/business/business-access/:userBizId/asset-groups",end:!0},e.pathname)||!!(0,n.LX)({path:"/business/business-manager/:userBizId/asset-groups",end:!0},e.pathname),S=e=>!!(0,n.LX)({path:"/business/business-manager/:userBizId/catalogs",end:!0},e.pathname),j=e=>!!(0,n.LX)({path:"/business/catalogs/:userBizId/",end:!1},e.pathname),P=e=>!!(0,n.LX)({path:"/business/business-access/:userBizId/shared-tags",end:!0},e.pathname)||!!(0,n.LX)({path:"/business/business-manager/:userBizId/shared-tags",end:!0},e.pathname),A=e=>!!(0,n.LX)({path:"/business/business-access/:userBizId/brand-safety",end:!0},e.pathname)||!!(0,n.LX)({path:"/business/business-manager/:userBizId/brand-safety",end:!0},e.pathname),I=e=>!!(0,n.LX)({path:"/business/business-hierarchy/:businessHierarchyId/business_security",end:!0},e.pathname),T=e=>!!(0,n.LX)({path:"/business/business-hierarchy/:businessHierarchyId/managers",end:!0},e.pathname),R=e=>!!(0,n.LX)({path:"/business/business-hierarchy/:businessHierarchyId/",end:!1},e.pathname)||!!(0,n.LX)({path:"/business/business-access/:businessId/",end:!1},e.pathname)||!!(0,n.LX)({path:"/business/business-manager/:businessId/",end:!1},e.pathname)||!!(0,n.LX)(e.pathname,"/business/business-manager"),Z=e=>!!(0,n.LX)({path:"/business/business-access/:businessId/invoice-management",end:!0},e.pathname)||!!(0,n.LX)({path:"/business/business-manager/:businessId/invoice-management",end:!0},e.pathname),O=e=>!!(0,n.LX)({path:"/business/business-access/:businessId/audiences",end:!0},e.pathname)||!!(0,n.LX)({path:"/business/business-manager/:businessId/audiences",end:!0},e.pathname),L=e=>!!(0,n.LX)({path:"/business/business-access/:businessId/security",end:!0},e.pathname)||!!(0,n.LX)({path:"/business/business-manager/:businessId/security",end:!0},e.pathname),z=e=>!!(0,n.LX)({path:"/business/business-manager/:businessId/ad-accounts/cee-migration",end:!0},e.pathname),D=e=>e.pathname.startsWith("/business/invite/"),M=e=>!!(0,n.LX)({path:"/pin/:id/visual-search/",end:!0},e.pathname),B=e=>!!(0,n.LX)({path:"/pin/:id/visual-search/products/",end:!0},e.pathname),N=e=>"/"===e.pathname,F=e=>"/"===e.pathname||"/homefeed/"===e.pathname,W=e=>e.pathname.startsWith("/login"),H=e=>e.pathname.startsWith("/invited"),U=e=>!!(0,n.LX)({path:"/today",end:!0},e.pathname),V=e=>e.pathname.startsWith("/password/reset")||!!(0,n.LX)({path:"/pw/:username",end:!0},e.pathname),$=e=>e.pathname.startsWith("/secure/panic"),X=e=>e.pathname.startsWith("/signup"),G=e=>e.pathname.startsWith("/email/subscription"),Y=e=>e.pathname.startsWith("/email/user_survey"),q=e=>e.pathname.startsWith("/email_verification_error"),J=e=>e.pathname.startsWith("/notifications/"),Q=e=>!!(0,n.LX)({path:"/pin/:id",end:!0},e.pathname),K=e=>e.pathname.startsWith("/pin_redirect"),ee=e=>e.pathname.startsWith("/search"),et=e=>!!(0,n.LX)({path:"/ideas",end:!0},e.pathname),ei=e=>!!(0,n.LX)({path:"/ideas/:interest/:id",end:!0},e.pathname),en=e=>et(e)||ei(e),es=e=>!!(0,n.LX)({path:"/videos/:category/:id",end:!0},e.pathname),er=e=>!!(0,n.LX)({path:"/videos/",end:!0},e.pathname),eo=e=>!!(0,n.LX)({path:"/shopping/",end:!0},e.pathname),ea=e=>!!(0,n.LX)({path:"/shopping/:category/:id",end:!0},e.pathname),el=e=>eo(e)||ea(e),ec=e=>e.pathname.startsWith("/topics"),ed=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),eu=e=>e.pathname.startsWith("/today/shop/"),ep=e=>U(e)||ed(e)||e.pathname.startsWith("/today/popular/"),eh=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),em=e=>e.pathname.startsWith("/pin/create/"),ef=e=>e.pathname.startsWith("/unauth-profile"),ex=e=>e.pathname.startsWith("/pin/"),eg=e=>"#imgViewer"===e.hash,eb=e=>/invite_code/.test(e.search),ey=e=>!!(0,n.LX)({path:"/pin/:id",end:!1},e.pathname)&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),e_=e=>e.pathname.includes("/repin/x"),ev=e=>!!(0,n.LX)({path:"/pin/:id/repin"},e.pathname)&&!e_(e),ew=e=>e.pathname.startsWith("/_/storyboard"),eE=e=>e.pathname.startsWith("/oauth"),eC=e=>e.pathname.startsWith("/app-factory-oauth"),ek=e=>e.pathname.startsWith("/business/convert"),eS=e=>e.pathname.startsWith("/pin-editor"),ej=e=>e.pathname.startsWith("/pin-builder"),eP=e=>e.pathname.startsWith("/idea-ads-tool"),eA=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder")||e.pathname.startsWith("/pin-creation-tool")||eP(e),eI=e=>e.pathname.startsWith("/settings"),eT=e=>void 0!==e.pathname&&(e.pathname.startsWith("/business/business-access/")||e.pathname.startsWith("/business/business-manager/"))&&e.pathname.includes("/dashboard/"),eR=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),eZ=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/"),eO=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/hub"),eL=e=>void 0!==e.pathname&&e.pathname.startsWith("/signup/sso-business-account/"),ez=(e,t)=>s.Wr(t,"2025-02-08","mweb_notif_settings_redesign")?e.pathname.startsWith("/settings"):e.pathname.startsWith("/settings")&&!e.pathname.startsWith("/settings/notifications"),eD=e=>void 0!==e.pathname&&!!(0,n.LX)({path:"/advertiser/:id/ads/edit/",end:!0},e.pathname),eM=e=>void 0!==e.pathname&&!!(0,n.LX)({path:"/advertiser/:id/ads/edit_draft/",end:!0},e.pathname),eB=e=>void 0!==e.pathname&&!!(0,n.LX)({path:"/advertiser/:id/ads/duplicate/",end:!0},e.pathname),eN=e=>void 0!==e.pathname&&!!(0,n.LX)({path:"/advertiser/:id/ads/bulk_edit/",end:!0},e.pathname),eF=e=>!!(0,n.LX)({path:"/collage-creation-tool/",end:!0},e.pathname),eW=({url:e="",state:t=null}={})=>{let i=(0,o.Z)(e);return{pathname:i.path,search:i.query,hash:i.anchor,state:t}}},414471:function(e,t,i){i.d(t,{Wr:()=>r});var n=i(603316);let s=(e,t)=>{switch(t){case 2025:return e.checkExperiment("notifications_holdout_2025").group;case 2026:return e.checkExperiment("notifications_holdout_2026").group;case 2027:return e.checkExperiment("notifications_holdout_2027").group;case 2028:return e.checkExperiment("notifications_holdout_2028").group;default:return""}},r=(e,t,i)=>{let r=new Date(Date.parse(t)),o=r.getFullYear(),a=r.getMonth()+1,l=a<7?"h1":"h2",c=new Date(Date.now()),d=c.getMonth()+1,u=c.getFullYear(),p=u-1,h=`notifications_holdout_${p}`,m=`notifications_holdout_${u}`;if(o<p||o===p&&d>=2||o===p&&a<=6)return(0,n.nP)("in_notifications_older_holdout_group",{sampleRate:1,tags:{source:i}}),!1;let f=s(e,u)||"",x=s(e,p)||"";if(""!==f&&(0,n.nP)("in_notifications_holdout_group.info",{sampleRate:1,tags:{exp_name:m,exp_group:f,source:i}}),""!==x&&(0,n.nP)("in_notifications_holdout_group.info",{sampleRate:1,tags:{exp_name:h,exp_group:x,source:i}}),1===d||7===d){if(1===d){if(o===p&&"h2"===l)return x.startsWith(`holdout_${l}`);if(o===u&&1===a&&(x.startsWith("holdout_h2")||x.startsWith("production_h2")))return!0}if(7===d){if(o===u&&"h1"===l)return f.startsWith(`holdout_${l}`);if(o===u&&7===a&&(f.startsWith("holdout_h1")||f.startsWith("production_h1")))return!0}}return!!(d>=1&&d<=6&&f.includes("h1")||d>=7&&d<=12&&f.includes("h2"))&&f.startsWith(`holdout_${l}`)}},898462:function(e,t,i){i.d(t,{Z:()=>function e(t,i=!1){return s=>{if(!(0,n.Z)(s))if(i&&Array.isArray(s))return s.map(e(t,i));else return s;let r={};return Object.keys(s).forEach(o=>{let a=t(s[o],o);(0,n.Z)(s[o])||i&&Array.isArray(s[o])?r[a]=e(t,i)(s[o]):r[a]=s[o]}),r}}});var n=i(612647)},949044:function(e,t,i){i.d(t,{Z:()=>s});var n=i(898462);function s(e,t=!1){let i=(t,i)=>e(i);return e=>(0,n.Z)(i,t)(e)}},518459:function(e,t,i){i.d(t,{GY:()=>v,Jg:()=>_,fW:()=>w});var n=i(827427),s=i(770943),r=i(624206),o=i(289714),a=i(707241),l=i(666043),c=i(26619),d=i(585372),u=i(50198),p=i(202511),h=i(123937),m=i(181018),f=i(749511),x=i(606166),g=i(906644),b=i(244771),y=i(220134);let _=["goodIdea","love","thanks","wow","haha"],v={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},w=(e,t,i="darkGray")=>{let _={default:{staticAsset:"white"===i?h:p},goodIdea:{staticAsset:r,animatedAsset:n,gridAsset:s,label:t.bt("Boa ideia", "Good idea", "Reaction label to tell a creator that their pin is a good idea", undefined, true),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{staticAsset:l,animatedAsset:o,gridAsset:a,label:t.bt("Haha", "Haha", "Reaction label to tell a creator that the pinner laughed because of their pin", undefined, true),htmlStyle:`
    @keyframes play60 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -2400px 0px;
        }
    }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{staticAsset:u,animatedAsset:c,gridAsset:d,label:t.bt("Amei", "Love", "Reaction label to tell a creator that the pinner loved their pin", undefined, true),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{staticAsset:x,animatedAsset:m,gridAsset:f,label:t.bt("Obrigado", "Thanks", "Reaction label to tell a creator thank you", undefined, true),htmlStyle:`
    @keyframes play60 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -2400px 0px;
        }
    }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{staticAsset:y,animatedAsset:g,gridAsset:b,label:t.bt("Uau", "Wow", "Reaction label to tell a creator that the pinner was wowed by their pin", undefined, true),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}};return e&&_[e]?_[e]:_.default}},444185:function(e,t,i){i.d(t,{Z:()=>r});var n=i(849233),s=i(943257);function r(e){let{enabledRouteRefresh:t,headers:i,name:r,noCache:o,options:a,schema:l}=e??{name:n.fY,options:null},c=!e,{fetchResource:d,ref:u,fetchMore:p,isFetching:h,isLoaded:m,isRefreshing:f,refresh:x}=(0,s.Z)({enabledRouteRefresh:t,headers:i,name:r,noCache:o,options:a,schema:l},c,!1);return c||d(),{ref:u,fetchMore:p,isFetching:h,isLoaded:m,isRefreshing:f,refresh:x}}},600861:function(e,t,i){i.d(t,{i:()=>n});let n={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",BUSINESS_HUB:"business_hub",UNKNOWN:"unknown"}},32937:function(e,t,i){i.d(t,{Z:()=>c});var n=i(281098),s=i(667294),r=i(765533),o=i(519404),a=i(785893);let l=()=>{};function c({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:i,allowScroll:c,children:d}){(0,s.useEffect)(()=>{(0,n.Z)("StopEventPropagation","/app/packages/stop-event-propagation/StopEventPropagation.tsx")},[]);let u=e=>{t&&e.keyCode===r.Z.ESCAPE||(0,o.Z)(e)};return(0,a.jsx)("div",{onAbort:o.Z,onAnimationEnd:o.Z,onAnimationIteration:o.Z,onAnimationStart:o.Z,onBlur:l,onCanPlay:i?l:o.Z,onCanPlayThrough:o.Z,onChange:o.Z,onClick:e?l:o.Z,onCompositionEnd:o.Z,onCompositionStart:o.Z,onCompositionUpdate:o.Z,onContextMenu:o.Z,onCopy:o.Z,onCut:o.Z,onDoubleClick:o.Z,onDurationChange:o.Z,onEmptied:o.Z,onEncrypted:o.Z,onEnded:o.Z,onError:o.Z,onFocus:l,onInput:o.Z,onInvalid:o.Z,onKeyDown:u,onKeyPress:u,onKeyUp:u,onLoad:o.Z,onLoadedData:o.Z,onLoadedMetadata:o.Z,onLoadStart:o.Z,onMouseDown:o.Z,onMouseEnter:o.Z,onMouseLeave:o.Z,onMouseMove:e?l:o.Z,onMouseOut:o.Z,onMouseOver:o.Z,onMouseUp:e?l:o.Z,onPaste:o.Z,onPause:o.Z,onPlay:o.Z,onPlaying:o.Z,onProgress:o.Z,onRateChange:o.Z,onScroll:c?l:o.Z,onSeeked:o.Z,onSeeking:o.Z,onSelect:o.Z,onStalled:o.Z,onSubmit:o.Z,onSuspend:o.Z,onTimeUpdate:o.Z,onTouchCancel:o.Z,onTouchEnd:e?l:o.Z,onTouchMove:e?l:o.Z,onTouchStart:e?l:o.Z,onTransitionEnd:o.Z,onVolumeChange:o.Z,onWaiting:o.Z,onWheel:o.Z,children:d})}},519404:function(e,t,i){i.d(t,{Z:()=>n});let n=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},974705:function(e,t,i){i.d(t,{Z:()=>n});function n(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}},998212:function(e,t,i){i.d(t,{$:()=>n,Z:()=>r});let{Provider:n,getMaybe:s}=(0,i(729434).Z)("TimeSpentManagerContext"),r=s},875723:function(e,t,i){i.d(t,{Z:()=>d});var n=i(281098),s=i(667294),r=i(20256),o=i(937392),a=i(19585),l=i(369416),c=i(785893);function d({color:e="dark",completeButtonText:t,completeUrl:i,dismissButtonText:d,experienceId:u,external:p,message:h,onComplete:m,onDismiss:f}){(0,s.useEffect)(()=>{(0,n.Z)("Banner","/app/packages/ui/Banner.tsx")},[]);let x=(0,a.ZP)(),g=(0,s.useRef)(null),b=h&&!t,y=500735===u,_=t&&(!i||y)&&(0,c.jsx)(r.zx,{color:"white",onClick:({event:e})=>{m&&m(e)},text:t}),v=t&&i&&(0,c.jsx)(o._7,{anchor:".HomeButton2",anchorElementRef:g.current,containerBoxConfig:{display:"flex",height:"100%"},children:(0,c.jsx)(r.ZP,{ref:g,accessibilityLabel:t,color:"white",href:i,onClick:({event:e})=>{m&&m(e)},rel:p?"nofollow":"none",size:"md",text:t})}),w=d&&f&&(0,c.jsx)(r.xu,{mdPaddingX:2,children:(0,c.jsx)(r.zx,{color:"shopping"===e?"white":"gray",onClick:({event:e})=>{f&&f(e)},text:d})}),E=b&&!y&&f&&!d&&(0,c.jsx)(r.hU,{accessibilityLabel:x.bt("Fechar", "Close", "accessibility close label", undefined, true),bgColor:"lightGray",icon:"cancel",iconColor:"gray",onClick:({event:e})=>{f&&f(e)},size:"md"});return(0,c.jsxs)(r.xu,{alignItems:"center",color:e,direction:"column",display:"flex",justifyContent:"between",paddingX:6,paddingY:3,smDirection:"row",children:[(0,c.jsx)(r.xu,{column:12,smColumn:b?11:8,children:(0,c.jsxs)(r.xv,{color:"inverse",weight:y?"normal":"bold",children:[(0,c.jsx)(l.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,c.jsx)("div",{className:"Banner--message",children:(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:h}})})]})}),(0,c.jsxs)(r.kC,{alignItems:"center",justifyContent:"end",children:[w,_||v,E]})]})}},87853:function(e,t,i){i.d(t,{Zo:()=>n,dI:()=>s});let{Provider:n,get:s}=(0,i(729434).Z)("toastManagerContext")},47426:function(e,t,i){i.d(t,{Z:()=>s});var n=i(233624);let s=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,n.Z)(e))},821651:function(e,t,i){i.d(t,{r:()=>g,W:()=>x});var n=i(667294),s=i(729434),r=i(821342),o=i(886981),a=i(295317),l=i(121836),c=i(238589),d=i(974705);let u=e=>{let t={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&("object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?t[(0,d.Z)(i)]=e[i]:t[(0,d.Z)(i)]=u(e[i]));return t},p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var m=i(785893);let{Provider:f,getMaybe:x}=(0,s.Z)("RoleBasedAccessControlContext"),g=({children:e})=>{let t=(0,r.Z)(),i=!!(t.isAuth&&t.isPartner),{state:s,actions:d,receiveProfiles:x}=(e=>{let[t,i]=(0,n.useReducer)(h,p),s=(({dispatch:e,isEnabled:t,state:i})=>{let{orbacVisibility:s,disableProfileChanger:r,headerVisible:o}=i,a=(0,n.useCallback)(i=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:i})},[t,e]);return{changeProfile:a,toggleORBACVisibility:(0,n.useCallback)(i=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:i??!s})},[t,e,s]),toggleDisableProfileChanger:(0,n.useCallback)(i=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:i??!r})},[t,e,r]),toggleHeaderVisibility:(0,n.useCallback)(i=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:i??!o})},[t,e,o])}})({dispatch:i,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:o}=t;return(0,n.useEffect)(()=>{let e=(0,c.Nl)().getItem(l.Zo)||!1;e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,n.useEffect)(()=>{let e=(0,c.Nl)().getItem(l.ig)||!1;e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,n.useEffect)(()=>{(0,c.Nl)().setItem(l.ig,o)},[o]),(0,n.useEffect)(()=>{(0,c.Nl)().setItem(l.Zo,r)},[r]),{state:t,actions:s,receiveProfiles:(0,n.useCallback)((e,t)=>{i({type:"LOAD_PROFILES",payload:((e,t)=>{let i=[];for(let n in e)n!==t&&i.push({id:n,...u(e[n])});let n=i.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),s=new Map;for(let e of n)s.set(e.id,e);return s})(e,t)})},[i])}})(i),{activeProfile:g,headerVisible:b,profiles:y}=s,_=(0,n.useMemo)(()=>y?Array.from(y.values()):[],[y]),v=(0,a.Z)(_),w=!!t.isAuth&&_.length>0&&v,E=t.isAuth?t.id:"",C=t.isAuth?t.username:"",{changeProfile:k,toggleORBACVisibility:S,toggleDisableProfileChanger:j,toggleHeaderVisibility:P}=d;(0,n.useEffect)(()=>{if(i){if("string"==typeof v)return void k(v);g||k(E)}},[v,E,i,k,g]),(0,n.useEffect)(()=>{i&&(w&&!b&&P(!0),!w&&b&&P(!1))},[P,w,i,b,y]);let{data:A}=(0,o.Z)(i?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),I=A?.profiles,T=(0,n.useMemo)(()=>t&&t.isAuth&&g===t.id?{id:t.id,permissions:["OWNER"],user:{username:C,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:g&&y?y.get(g):void 0,[g,y,t,C]);(0,n.useEffect)(()=>{I&&x(I,E)},[x,I,E]);let R=(0,n.useMemo)(()=>({profiles:_,headerVisible:b,activeProfile:T,changeProfile:k,toggleORBACVisibility:S,toggleDisableProfileChanger:j,toggleHeaderVisibility:P}),[_,b,T,k,S,j,P]);return(0,m.jsx)(f,{value:R,children:e})}},448505:function(e,t,i){i.d(t,{Z:()=>l});var n=i(667294),s=i(675973),r=i(821651),o=i(295317);let a=Object.freeze({}),l=()=>{let{checkExperiment:e}=(0,s.Z)(),t=(0,r.W)(),{activeProfile:i}=t||{},l=(0,o.Z)(t?.profiles||[]),{anyEnabled:c}=e("useorbacroutematcher_in_useorbacactingas");return(0,n.useMemo)(()=>c&&!l?a:i&&(i.viewerMeetsMfaRequirement||(i.permissions||[]).includes("OWNER"))?i:a,[c,l,i])}},295317:function(e,t,i){i.d(t,{Z:()=>l});var n=i(616550),s=i(825332),r=i(821342),o=i(506662),a=i(169053);let l=e=>{let t=(0,s.TH)(),i=(0,r.Z)(),l=(0,a.S6)(),c=(0,n.$B)("/:username"),d=c?.params?.username,u=(0,n.$B)("/pin/:id"),p=!!u?.params?.id&&l(u.params.id)?.pinner?.id;if((0,o.ej)(t))return!1;if((0,o.RU)(t)||(0,o.mY)(t))return!0;let h=[...e,...i.isAuth?[{user:{username:i.username},id:i.id}]:[]].find(e=>{if(!e)return!1;let{user:t,id:i}=e;return(!!t&&"username"in t&&!!t.username&&!!d||!!p&&!!i)&&(t.username===d||p===i)});return!!h&&h.id}},7872:function(e,t,i){i.d(t,{D3:()=>u,DX:()=>c,Fk:()=>n,KY:()=>p,Ms:()=>s,N1:()=>h,_P:()=>l,gJ:()=>r,lJ:()=>a,nl:()=>o,q6:()=>d});let n=(e,t)=>{let i=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(i=t.user.businessName),i},s=(e,t)=>{let i=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(i=t.user.username),i},r=(e,t)=>{let i=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(i=t.user.imgUrl),i},o=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),a=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",l=(e,t,i)=>i&&i.user&&t&&t.isAuth&&i.id!==t.id?i.user.merchantId:e.advertiser?.merchant_id,c=(e,t,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,d=(e,t,i)=>!!(e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===t),u=(e,t,i)=>!!(d(e,t,i)||e&&e.isAuth&&t===e.id),p=(e,t,i)=>u(e,t&&t.owner&&t.owner.id||"",i);function h(e,t,i){return u(e,t?t.id:"",i)}},104659:function(e,t,i){i.d(t,{g:()=>p,G:()=>u});var n=i(667294),s=i(729434),r=i(286036),o=i(399573);let a={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{},videoCarouselModuleAutoplaying:{}},viewportSize:"lg"},l=(e=a,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:n,isPromoted:s,currentTime:r,surface:a}=i,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:c,promotedVideosAutoplaying:d,organicVideosAutoplaying:u,videoCarouselModuleAutoplaying:p}=l,h=(0,o.Z)(d),m=(0,o.Z)(u),f=(0,o.Z)(p);return!s&&c&&"VideoCarouselModule"!==a?e:(s?h[n]={pinId:n,currentTime:r,paused:!1}:"VideoCarouselModule"===a?f[n]={pinId:n,currentTime:r,paused:!1}:m[n]={pinId:n,currentTime:r,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:s?c:n,promotedVideosAutoplaying:h,organicVideosAutoplaying:m,videoCarouselModuleAutoplaying:f}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:n,isPromoted:s,currentTime:r,surface:a}=i,{videosAutoplaying:l}=e,{promotedVideosAutoplaying:c,organicVideosAutoplaying:d,videoCarouselModuleAutoplaying:u}=l,p=(0,o.Z)(c),h=(0,o.Z)(d),m=(0,o.Z)(u);return s?p[n]={...p[n],paused:!0,currentTime:r}:"VideoCarouselModule"===a?m[n]={...m[n],paused:!0,currentTime:r}:h[n]={...h[n],paused:!0,currentTime:r},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:p,organicVideosAutoplaying:h,videoCarouselModuleAutoplaying:m}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var c=i(785893);let{Provider:d,get:u}=(0,s.Z)("AppUI");function p({children:e}){let[t,i]=(0,n.useReducer)(l,a),s=(0,n.useCallback)(e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),o=(0,n.useCallback)(e=>i({type:"SET_APP_FOCUS_STATE",payload:e}),[]),u=(0,n.useCallback)(e=>i({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,n.useCallback)(e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),h=(0,n.useCallback)(e=>i({type:"SET_IS_AUTOPLAY",payload:e}),[]),m=(0,n.useCallback)(e=>i({type:"SET_VIEWPORT_SIZE",payload:e}),[]),f=(0,n.useCallback)(e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),x=(0,n.useMemo)(()=>({pauseAutoplay:s,setCurrentVideo:u,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:f,setAppFocusState:o,appUI:t}),[s,u,p,h,m,f,o,t]);return(0,n.useEffect)(()=>{r.Z.onSessionResume(()=>{o(!0)}).onSessionPause(()=>{o(!1)})},[o]),(0,c.jsx)(d,{value:x,children:e})}},25837:function(e,t,i){i.d(t,{WZ:()=>a,NW:()=>c,hu:()=>s,Rz:()=>u,cI:()=>r,L1:()=>o,OZ:()=>d,fe:()=>l});var n=i(20256);let s=64,r=80,o=24,a="HeaderContent",l=671,c=new n.Ry(l),d="NagHeaderContent",u={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},366859:function(e,t,i){i.d(t,{Z:()=>a});var n=i(281098),s=i(667294),r=i(20256),o=i(785893);function a({children:e,onMouseEnter:t,onMouseLeave:i,onTouch:a,rounding:l,fullWidth:c=!1,pressState:d="none",accessibilityLabel:u,role:p,dataTestId:h}){(0,s.useEffect)(()=>{(0,n.Z)("LegacyTapArea","/app/www/LegacyTapArea.tsx")},[]);let m=(Array.isArray(d)?d:[d]).includes("compress");return(0,o.jsx)(r.iP,{accessibilityLabel:u,dataTestId:h,fullWidth:c,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:i&&(({event:e})=>i(e)),onTap:a&&(({event:e})=>a(e)),role:p,rounding:l,tapStyle:m?"compress":"none",children:e})}},76774:function(e,t,i){i.d(t,{Q:()=>u,m:()=>p});var n=i(667294),s=i(581722),r=i(729434),o=i(821342),a=i(226967),l=i(13020),c=i(785893);let{Provider:d,get:u}=(0,r.Z)("NavFooterContext");function p({children:e}){let[t,i]=(0,n.useState)(),[r,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(0),[m,f]=(0,n.useState)(!1),[x,g]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),[_,v]=(0,n.useState)(!1),w=(0,l.Z)(null,(0,o.Z)()),E=(0,s.v9)(e=>e.session.isAuthenticated),C=(0,s.v9)(e=>E?e.users[e.session.userId]:void 0),k=(0,a.Z)(C?.created_at);return(0,c.jsx)(d,{value:{forceShowNavFooter:b,homeFlyoutText:t,isNavFooterHiddenAfterScroll:r,isNavFooterHiddenByPinActionBar:_,navFooterHeight:r?0:E&&(w||k)?64:52,numUnauthSavedPins:p,setForceShowNavFooter:y,setHomeFlyoutText:i,setIsNavFooterHiddenAfterScroll:u,setIsNavFooterHiddenByPinActionBar:v,setNumUnauthSavedPins:h,setShowHomeBadge:f,setShowHomeFlyoutWithButton:g,showHomeBadge:m,showHomeFlyoutWithButton:x},children:e})}},252564:function(e,t,i){i.d(t,{Z:()=>r,w:()=>o});var n=i(20256),s=i(635459);let r=new n.H3([s.Z]),o=160},446655:function(e,t,i){i.d(t,{GY:()=>_,Jg:()=>y,bR:()=>v,fW:()=>w});var n=i(827427),s=i(770943),r=i(624206),o=i(289714),a=i(707241),l=i(666043),c=i(26619),d=i(585372),u=i(50198),p=i(202511),h=i(181018),m=i(749511),f=i(606166),x=i(906644),g=i(244771),b=i(220134);let y=["goodIdea","love","thanks","wow","haha"],_={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},v={goodIdea:"7",love:"1",thanks:"13",wow:"11",haha:"5"},w=({i18n:e,type:t})=>{let i={default:{staticAsset:p},goodIdea:{backgroundColor:"yellow-caramellow-50",staticAsset:r,animatedAsset:n,gridAsset:s,label:e.bt("Boa ideia", "Good idea", "Reaction label to tell a creator that their pin is a good idea", undefined, true),htmlStyle:`
      @keyframes play90 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -7380px 0px;
        }
      }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{backgroundColor:"purple-mysticool-100",staticAsset:l,animatedAsset:o,gridAsset:a,label:e.bt("Haha", "Haha", "Reaction label to tell a creator that the pinner laughed because of their pin", undefined, true),htmlStyle:`
      @keyframes play60 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -4920px 0px;
        }
      }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{backgroundColor:"red-pushpin-100",staticAsset:u,animatedAsset:c,gridAsset:d,label:e.bt("Amei", "Love", "Reaction label to tell a creator that the pinner loved their pin", undefined, true),htmlStyle:`
      @keyframes play90 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -7380px 0px;
        }
      }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{backgroundColor:"teal-spabattical-100",staticAsset:f,animatedAsset:h,gridAsset:m,label:e.bt("Obrigado", "Thanks", "Reaction label to tell a creator thank you", undefined, true),htmlStyle:`
      @keyframes play60 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -4920px 0px;
        }
      }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{backgroundColor:"orange-firetini-50",staticAsset:b,animatedAsset:x,gridAsset:g,label:e.bt("Uau", "Wow", "Reaction label to tell a creator that the pinner was wowed by their pin", undefined, true),htmlStyle:`
      @keyframes play90 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -7380px 0px;
        }
      }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}};return t&&i[t]?i[t]:i.default}},721332:function(e,t,i){i.r(t),i.d(t,{default:()=>P});var n=i(281098),s=i(667294),r=i(581722),o=i(20256),a=i(521009),l=i(19585),c=i(675973),d=i(444185),u=i(521907),p=i(352908),h=i(446655),m=i(15667),f=i(785893);let x="cubic-bezier(0, 0, 0.58, 1)",g={loaded:{opacity:1,transitionDuration:"0.20s",transitionTimingFunction:x,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"},fade:{opacity:.1,transitionDuration:"0.30s",transitionTimingFunction:x,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"}};function b({reactionLabel:e,handleHideConfirmation:t}){(0,s.useEffect)(()=>{(0,n.Z)("ReactionConfirmation","/app/www/Reactions/ReactionConfirmation.tsx")},[]);let{isRTL:i}=(0,m.B)(),[r,a]=(0,s.useState)("loaded"),[l,c]=(0,s.useState)({}),d=(0,s.useRef)(null),u=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(u.current=requestAnimationFrame(()=>{setTimeout(()=>a("fade"),1e3),setTimeout(()=>t(),1300)}),d.current){let e=d.current.getBoundingClientRect();(i?e.left<0:e.right>window.innerWidth)&&c(i?{left:0}:{right:0})}},[]),(0,f.jsx)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",children:(0,f.jsx)(o.xu,{ref:d,alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{...g[r],whiteSpace:"nowrap",...l}},display:"flex",height:"20px",justifyContent:"center",paddingX:2,paddingY:1,position:"absolute",rounding:"pill",children:(0,f.jsx)(o.xv,{color:"inverse",overflow:"normal",size:"100",weight:"bold",children:e})})})}var y=i(369416),_=i(366859);let v="cubic-bezier(0.25, 0.1, 0.25, 1)",w={icon:{backgroundRepeat:"no-repeat",backgroundSize:"cover"},loading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:v,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(25px) scale(1.28)"},loaded:{opacity:1,transitionDuration:"0.25s",transitionTimingFunction:v,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(0px) scale(1.28)"},clicked:{transitionDuration:"0.25s",transitionTimingFunction:v,transitionProperty:"transform",transform:"translateZ(0) translateY(-50px) scale(1.2)"},flying:{transitionDuration:"0.25s",transitionTimingFunction:v,transitionProperty:"transform"},label:{transitionDuration:"0.25s",transitionTimingFunction:v,transitionProperty:"transform",transform:"translateZ(0) translateY(0) scale(0.8)",whiteSpace:"nowrap"},fading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:v}},E={boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)"};function C({handleReactionClick:e,isCentered:t=!1,isIdeaPinCloseUp:i,marginTop:r,reactionButtonRect:c,shouldShowReactionTrayUp:d,viewType:u,viewParameter:p,reactionPickerRef:m}){(0,s.useEffect)(()=>{(0,n.Z)("ReactionTray","/app/www/Reactions/ReactionTray.tsx")},[]);let x=(0,l.ZP)(),g=(0,a.Z)(),[b,v]=(0,s.useState)("loading"),[C,k]=(0,s.useState)(""),[S,j]=(0,s.useState)(),[P,A]=(0,s.useState)(),[I,T]=(0,s.useState)(!1),[R,Z]=(0,s.useState)({}),O=(0,s.useRef)(void 0),L=(0,s.useRef)({}),z=()=>{T(!0);let e={...R};h.Jg.forEach(t=>{L.current[t]&&!e[t]&&(e[t]=L.current[t].getBoundingClientRect())}),Z(e)};(0,s.useEffect)(()=>{"loading"===b&&(O.current=requestAnimationFrame(()=>v("loaded"))),!S&&I&&(()=>{let e={...S};h.Jg.forEach(t=>{let i=R[t],{left:n,top:s}=c,{left:r,top:o}=i,a=n-r-7+1.25*h.Jg.indexOf(t);e[t]={translateX:a,translateY:s-o-8.5}}),j(e)})()},[I]);let D=()=>{document.body&&document.body.style&&(document.body.style.overflow="hidden")},M=()=>{document.body&&document.body.style&&(document.body.style.overflow="unset")},B=e=>{let t;return I&&h.Jg.forEach(i=>{let n=R[i];if(n&&n.left&&n.right){let{left:s,right:r}=n;e>=s&&e<=r&&(t=i)}}),t||null},N=t=>{z(),D();let{clientX:i}=t,n=B(i);if(n!==C&&n){if(P&&C){let{type:e}=(0,h.fW)(n);g({event_type:105,element:11354,view_type:u,view_parameter:p,aux_data:{reaction_type:e,duration:`${(Date.now()-P)/1e3} seconds`}})}else!P&&C&&A(Date.now());k(n),v("clicked"),setTimeout(()=>{v("flying"),setTimeout(()=>{e(n)},800),M()},750)}},F=h.Jg.map((e,t)=>{let i={transitionDelay:`${.2*(t/h.Jg.length)}s`},n={};S&&(n={transform:`translateZ(0) translateX(${S[e].translateX}px) translateY(${S[e].translateY}px) scale(1)`});let{staticAsset:s,animatedAsset:r,label:a,htmlStyle:l,animationStyle:c}=(0,h.fW)({i18n:x,type:e});return(0,f.jsx)(o.xu,{alignSelf:"center",display:"flex",children:(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{zIndex:e===C&&"clicked"===b?"3":"2"}},children:(0,f.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{..."loading"===b||"loaded"===b||C===e&&"clicked"===b||C===e&&"flying"===b?w[b]:{},...C!==e&&("clicked"===b||"flying"===b)?w.loaded:{},..."loading"===b||"loaded"===b?i:{},...C===e&&"flying"===b?n:{},...C!==e&&"flying"===b?w.fading:{},transformOrigin:"left"}},display:"flex",justifyContent:"center",maxHeight:"flying"===b?24:32,maxWidth:"flying"===b?24:32,position:"relative",children:[C!==e&&(0,f.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${s})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},height:32,width:32})}),(0,f.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",position:"relative",children:[(0,f.jsx)(y.Z,{unsafeCSS:l}),C===e&&"clicked"===b&&(0,f.jsx)(o.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:w.label},display:"flex",height:20,justifyContent:"center",paddingX:2,paddingY:1,rounding:"pill",children:(0,f.jsx)(o.xv,{color:"inverse",overflow:"normal",size:"100",weight:"bold",children:a})}),(0,f.jsx)(_.Z,{onTouch:N,pressState:"none",children:(0,f.jsx)(o.xu,{ref:t=>{L.current[e]=t},alignItems:"center",dangerouslySetInlineStyle:{__style:{...w.icon,...C===e&&"clicked"===b?{animation:c}:{},backgroundImage:`url(${r})`}},display:"flex",height:C===e&&"flying"!==b?82:"flying"===b?24:32,justifyContent:"center",width:C===e&&"flying"!==b?82:"flying"===b?24:32})})]})]})})},t)});return(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{ref:m,alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:i?-295:0,marginTop:r||(d?-80:80),userSelect:"none"}},"data-test-id":"reaction-tray",display:"flex",justifyContent:"center",left:!0,position:"absolute",right:t,top:!0,children:(0,f.jsx)(o.Le,{top:0,children:(0,f.jsx)(o.xu,{alignItems:"center",color:"flying"===b?"transparent":"default",dangerouslySetInlineStyle:{__style:{..."flying"!==b?E:{},userSelect:"none"}},display:"flex",height:80,justifyContent:"center",rounding:"pill",width:300,children:(0,f.jsx)(o.xu,{width:"100%",children:(0,f.jsx)(o.xu,{display:"flex",justifyContent:"evenly",onTouchEnd:()=>{C&&(v("flying"),setTimeout(()=>{e(C)},325)),M()},onTouchMove:e=>{D();let{clientX:t}=e.touches[0],i=B(t);if(i!==C){if(P&&C&&i&&(0,h.fW)(i)){let{type:e}=(0,h.fW)(i);g({event_type:105,element:11354,view_type:u,view_parameter:p,aux_data:{reaction_type:e,duration:`${(Date.now()-P)/1e3} seconds`}})}else!P&&C&&A(Date.now());k(i)}v("clicked")},onTouchStart:()=>{z()},children:F})})})})})})}var k=i(581290);function S(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class j extends s.PureComponent{static getDerivedStateFromProps(e,t){let{reactions:i,viewer:n}=e,{isReactionsLoaded:s}=t;if(i.length>0&&!s){let e=!1,t=0;i.forEach(i=>{n&&"id"in n&&n.id&&i&&(i.user.id??i.user)===n.id&&(e=!0,t=i.reaction_type)});let s=t&&h.GY[t]||"";return{didViewerReact:e,userReaction:s,isReactionsLoaded:!0}}return null}constructor(e){super(e),S(this,"state",{isReactionTrayShowing:!1,reactionButtonRect:null,showConfirmation:!1,didViewerReact:!1,userReaction:null,isReactionsLoaded:!1}),S(this,"trayCloseTimer",null),S(this,"observer",null),S(this,"reactionPickerRef",(0,s.createRef)()),S(this,"handleClickOutside",e=>{let{isReactionTrayShowing:t}=this.state;t&&this.reactionPickerRef&&e.target instanceof Element&&!this.reactionPickerRef.current?.contains(e.target)&&this.setState({isReactionTrayShowing:!1})}),S(this,"setReactionButtonRect",()=>{if(!this.reactionButton)return;let e=this.reactionButton.getBoundingClientRect(),{height:t,width:i,top:n,right:s}=e,r=document.createElement("div");r.style.height=t+"px",r.style.width=i+"px",r.style.top=n+"px",r.style.right=s+"px",r.style.position="absolute",r.style.zIndex="-1",document.body?.append(r),this.setState({reactionButtonRect:e})}),S(this,"handleIconPositionChange",e=>{e.forEach(e=>{e.intersectionRatio<1&&this.setReactionButtonRect()})}),S(this,"handleScroll",()=>{let{isReactionTrayShowing:e}=this.state;e&&this.hideReactionTray(),this.setReactionButtonRect()}),S(this,"onReactionClick",async e=>{let{addReaction:t,i18n:i,reactionPinId:n,userId:s,clientTrackingParams:r,incrementReactionCount:o,onReactionUpdated:a,pinId:l}=this.props,{type:c}=(0,h.fW)({i18n:i,type:e});await t(c,n,s,r),a&&a(),o(l,c),this.handleShowConfirmation()}),S(this,"handleShowConfirmation",()=>{this.setState({showConfirmation:!0})}),S(this,"handleHideConfirmation",()=>{this.setState({showConfirmation:!1})}),S(this,"handleReactionClick",e=>{this.setState({userReaction:e,didViewerReact:!0},()=>{this.onReactionClick(e),this.trayCloseTimer=setTimeout(this.hideReactionTray,250)})}),S(this,"hideReactionTray",()=>{this.setState({isReactionTrayShowing:!1})}),S(this,"handleOneClickReact",()=>{let{didViewerReact:e,userReaction:t}=this.state,{removeReaction:i,reactionPinId:n,userId:s,requireAuthForLimitedLogin:r,decrementReactionCount:o,onReactionUpdated:a,pinId:l,logContextEvent:c}=this.props;e||c({event_type:103,element:11354,object_id_str:this.props.pinId,view_type:3,view_parameter:156}),r({fn:async()=>{e?(await i(n,s),t&&(o(l,h.bR[t]),a&&a()),this.setState({userReaction:null,didViewerReact:!1})):this.handleReactionClick("love")}})()}),this.reactionPickerRef=(0,s.createRef)(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.observer=new window.IntersectionObserver(this.handleIconPositionChange),this.reactionButton&&this.observer.observe(this.reactionButton),this.setReactionButtonRect(),window.addEventListener("scroll",this.handleScroll),window.addEventListener("mouseover",this.setReactionButtonRect),window.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("mouseover",this.setReactionButtonRect),window.removeEventListener("mousedown",this.handleClickOutside),this.trayCloseTimer&&clearTimeout(this.trayCloseTimer)}render(){let{isReactionTrayShowing:e,reactionButtonRect:t,userReaction:i,showConfirmation:n,didViewerReact:s}=this.state,{experience:r,i18n:a,nativePinType:l,hasBackground:c,hasReactionTray:d,isIdeaPinCloseUp:p,iconColor:m,isTextButton:x=!1,isTrayPositionRelative:g}=this.props,{animatedAsset:y,staticAsset:_,label:v}=(0,h.fW)({i18n:a,type:s&&i?i:"default"});return(0,f.jsxs)(o.xu,{position:g?"relative":void 0,children:[d&&e&&!!t&&!!t.left&&!!t.top&&(0,f.jsx)(C,{handleReactionClick:this.handleReactionClick,isCentered:!g,isIdeaPinCloseUp:p,marginTop:g?void 0:48,reactionButtonRect:t,reactionPickerRef:this.reactionPickerRef,shouldShowReactionTrayUp:"storyPin"===l,viewParameter:156,viewType:3}),(0,f.jsx)(o.iP,{onTap:this.handleOneClickReact,children:x?(0,f.jsx)(o.xv,{weight:"bold",children:a.bt("Reagir", "React", "Closeup.ReactionPicker.Text", undefined, true)}):(0,f.jsx)(o.xu,{ref:d?e=>{this.reactionButton=e}:void 0,alignItems:"center",display:"flex",height:24,justifyContent:"center",rounding:"circle",width:24,children:s&&i?(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:`url(${s&&y?y:_})`}},height:20,width:20}):(0,f.jsx)(o.hU,{accessibilityLabel:a.bt("Reagir", "React", "Accessibility label for reacting to a Pin", undefined, true),bgColor:c?"lightGray":"transparent",icon:"heart-outline",iconColor:m||"darkGray",padding:1,size:"xl"})})}),!e&&!n&&!s&&(0,f.jsx)(o.xu,{left:!0,position:"absolute",right:!0,top:!0,children:(0,f.jsx)(u.Z,{color:"blue",eligibleIds:[501979,501996],experience:r,children:()=>null})}),n&&!!i&&v&&(0,f.jsx)(b,{handleHideConfirmation:this.handleHideConfirmation,reactionLabel:v})]})}}function P(e){(0,s.useEffect)(()=>{(0,n.Z)("ReactionPickerContainer","/app/www/Reactions/ReactionPickerContainer.tsx")},[]);let t=(0,r.I0)();(0,d.Z)({name:"ReactionsResource",options:{pin_id:e.pinId,user_id:e.userId}});let i=(0,r.v9)(({feeds:t})=>t[`reactions:${e.pinId}`]||[]),o=(0,r.v9)(({reactions:e})=>i.length>0?i.map(t=>e[t.id]):[]),u=(0,r.v9)(({session:e,users:t})=>t[e.userId]),h=(0,r.v9)(({session:e})=>e.userId),{checkExperiment:m}=(0,c.Z)();return(0,f.jsx)(j,{...e,addReaction:(i,n,s,r)=>t((0,k.Gy)(e.pinId,i,n,s,r)),checkExperiment:m,decrementReactionCount:(e,i)=>t((0,k.Ps)(e,i)),i18n:(0,l.ZP)(),incrementReactionCount:(e,i)=>t((0,k.xQ)(e,i)),logContextEvent:(0,a.Z)(),reactionPinId:e.aggregatedPinDataId??"",reactions:o,removeReaction:(i,n,s)=>t((0,k.G3)(e.pinId,i,n,s)),requireAuthForLimitedLogin:(0,p.Z)(),userId:h,viewer:u})}S(j,"defaultProps",{hasBackground:!1,hasReactionTray:!0,isTrayPositionRelative:!0})},601686:function(e,t,i){i.d(t,{bq:()=>c,x4:()=>d});var n=i(281098),s=i(667294),r=i(611499),o=i(785893);let a={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:r.Gg,maxWidth:r.u6,descriptionPaneWidth:r.u6-r.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsCommentComposerFocused:()=>{},setIsCommentPopoverInteractionActive:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{},setViewportSize:()=>{}},l=(0,s.createContext)(a);function c({children:e,value:t}){(0,s.useEffect)(()=>{(0,n.Z)("Context","/app/www/closeup/desktop/Context.tsx")},[]);let i=(0,s.useMemo)(()=>({...a,...t}),[t]);return(0,o.jsx)(l,{value:i,children:e})}function d(){let e=(0,s.useContext)(l);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},611499:function(e,t,i){i.d(t,{$T:()=>f,CI:()=>o,Ch:()=>l,E$:()=>E,ER:()=>m,Gb:()=>c,Gg:()=>s,Hf:()=>b,Id:()=>v,Ie:()=>u,KP:()=>p,Kn:()=>a,O5:()=>x,d2:()=>d,dm:()=>w,fF:()=>_,g9:()=>h,iB:()=>y,rv:()=>g,u6:()=>r});var n=i(20256);let s=508,r=1016,o=488,a=992,l=672,c=1176,d=40,u=72,p=740,h=32,m=16,f=24,x=2,g=1,b=new n.Ry(5),y={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},_={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},v="calc(90vh - 80px)",w="calc(55vh + 80px)",E="calc(75vh - 80px)"},635459:function(e,t,i){i.d(t,{Z:()=>r});var n=i(20256),s=i(35333);let r=new n.H3([s.eu])},35333:function(e,t,i){i.d(t,{eu:()=>r,sp:()=>o,xh:()=>s});var n=i(20256);let s=2,r=new n.Ry(1),o=new n.Ry(1)},521907:function(e,t,i){i.d(t,{Z:()=>h});var n=i(281098),s=i(667294),r=i(581722),o=i(20256),a=i(937392),l=i(877956),c=i(366859),d=i(785893);function u(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p extends s.PureComponent{constructor(...e){super(...e),u(this,"state",{paused:!1,showPulsar:!1,hasMounted:!1}),u(this,"handleDismiss",()=>{let{onClickDismiss:e,dismissExperience:t,experience:i}=this.props;if(!i)return;let{experience_id:n,placement_id:s}=i;t(s,n),e&&e()}),u(this,"wrapperRef",(0,s.createRef)())}componentDidMount(){this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}componentDidUpdate(e){this.props.experience&&e.experience!==this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}mountPulsar(){let{experience:e}=this.props;if(!e)return;let{display_data:t}=e;t.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){let e=this.wrapperRef,{paused:t}=this.state;if(!e||!e.current)return null;let{height:i,width:n}=e.current.getBoundingClientRect();return(0,d.jsx)(c.Z,{pressState:"none",children:(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-(68+i/2),marginLeft:-(68-n/2),pointerEvents:"none"}},position:"absolute",zIndex:new o.Ry(1),children:(0,d.jsx)(o.o3,{paused:t,size:136})})})}render(){let{children:e,eligibleIds:t,experience:i,idealDirection:n,onClickComplete:s,textWeight:r="bold",textAlign:l,textOverflow:c,fontSize:u}=this.props,{showPulsar:p,hasMounted:h}=this.state;if(!i||!t.includes(i.experience_id)||!h)return e({experience:i});let{display_data:{scroll_to_dismiss:m,scroll_to_dismiss_delay_in_seconds:f=0,...x}}=i;return(0,d.jsx)(a.a3,{eligibleIds:t,experience:i,children:({complete:t,dismiss:a})=>{let h=()=>(g(),a(),setTimeout(this.handleDismiss,1e3*f)),g=()=>{m&&(window.removeEventListener("scroll",h),window.removeEventListener("touchmove",h))};return m&&(window.addEventListener("scroll",h),window.addEventListener("touchmove",h)),(0,d.jsxs)(o.xu,{ref:this.wrapperRef,children:[e({experience:i}),p?this.renderPulsar():x.has_tooltip&&(0,d.jsx)(o.pl,{anchor:this.wrapperRef.current,idealDirection:n||"down",onDismiss:this.handleDismiss,size:"sm",children:(0,d.jsx)(o.xu,{padding:3,children:(0,d.jsxs)(o.kC,{direction:"column",gap:{row:0,column:3},children:[(0,d.jsx)(o.xu,{column:12,children:(0,d.jsxs)(o.xv,{align:"right"===l?"end":l,color:"light",overflow:c,size:u,weight:r||"bold",children:[x.text,x.secondary_cta_link&&(0,d.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,d.jsx)(o.xv,{color:"light",size:u,weight:"bold",children:(0,d.jsx)(o.rU,{display:"inlineBlock",href:x.secondary_cta_link.url,target:"blank",underline:"hover",children:x.secondary_cta_link.text})})})]})}),x.complete_button_text&&(0,d.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:x.complete_button_text&&(0,d.jsx)(o.kC,{alignContent:"center",children:(0,d.jsx)(o.zx,{color:"white",onClick:()=>{g(),t(1),s&&s()},size:"md",text:x.complete_button_text})})})]})})})]})}})}}function h(e){(0,s.useEffect)(()=>{(0,n.Z)("ExperienceTooltip","/app/www/experiences/duplo/ExperienceTooltip.tsx")},[]);let t=(0,r.I0)(),i=(0,l.be)(),o=(0,l.Am)();return(0,d.jsx)(p,{...e,completeExperience:(e,n)=>t(i(e,n)),dismissExperience:(e,i)=>t(o(e,i))})}},848387:function(e,t,i){i.d(t,{m:()=>s,o:()=>n});let{Provider:n,get:s}=(0,i(729434).Z)("LimitedLogin")},732347:function(e,t,i){i.d(t,{N4:()=>r,Wh:()=>n,hr:()=>s});let n=e=>e.bt("Faça login para continuar", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),s=e=>e.bt("Você está quase lá! Entre para acessar todos os recursos do Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),r=({i18n:e,toFollow:t})=>t?e.bt("Faça login para seguir", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Faça login para deixar de seguir", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true)},352908:function(e,t,i){i.d(t,{Z:()=>a});var n=i(19585),s=i(647709),r=i(848387),o=i(732347);let a=()=>{let e=(0,n.ZP)(),t=(0,s.HG)(),{viewer:i,loginForMore:a,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:c}=(0,r.m)();return"LIMITED_LOGIN"===i.type?({modalHeader:i,nextLocation:n})=>s=>{let r=null;s&&(s.nativeEvent&&s.nativeEvent instanceof Event?r=s:s.event&&(r=s.event)),r&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),a?.setVisible(!0),l?.setText(i||(t?(0,o.hr)(e):(0,o.Wh)(e))),n&&c?.setRoute(n)}:({fn:e})=>e}},581290:function(e,t,i){i.d(t,{G3:()=>u,Gy:()=>d,Ps:()=>l,fA:()=>p,xQ:()=>c});var n=i(782677),s=i(575108),r=i(72918),o=i(388023);function a(e,t,i){return{type:"UPDATE_PIN_REACTION_COUNT",payload:{increment:t,reactionType:i,pinId:e}}}function l(e,t){return a(e,!1,t)}function c(e,t){return a(e,!0,t)}let d=(e,t,i,a,l)=>c=>{let d={pin_id:e,user_id:a,reaction_type:t,reaction_pin_id:i,action_type:"reaction",client_tracking_parameters:l},u="ReactionsResource";return s.Z.create(u,d).callUpdate().then(e=>{let t=(0,n.Fv)(e.resource_response.data,o.Z[u]);c((0,r.XM)(u,d,e,t))})},u=(e,t,i,a)=>l=>{let c={pin_id:e,user_id:i,reaction_pin_id:t,action_type:"unreaction",client_tracking_parameters:a},d="ReactionsResource";return s.Z.create(d,c).callDelete().then(e=>{let t=(0,n.Fv)(e.resource_response.data,o.Z[d]);l((0,r.XM)(d,c,e,t))})};function p(e,t,i){return{type:"PIN_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:i}}}},827427:function(e){e.exports="https://s.pinimg.com/webapp/goodIdeaAnimated-3a2c1406.svg"},770943:function(e){e.exports="https://s.pinimg.com/webapp/goodIdeaGrid-58b0d95e.svg"},624206:function(e){e.exports="https://s.pinimg.com/webapp/goodIdeaStatic-39849fa9.svg"},289714:function(e){e.exports="https://s.pinimg.com/webapp/hahaAnimated-fe173a10.svg"},707241:function(e){e.exports="https://s.pinimg.com/webapp/hahaGrid-ec5b6eeb.svg"},666043:function(e){e.exports="https://s.pinimg.com/webapp/hahaStatic-f50c14f5.svg"},26619:function(e){e.exports="https://s.pinimg.com/webapp/loveAnimated-e3872263.svg"},585372:function(e){e.exports="https://s.pinimg.com/webapp/loveGrid-076b28ea.svg"},50198:function(e){e.exports="https://s.pinimg.com/webapp/loveStatic-a8925ad8.svg"},202511:function(e){e.exports="https://s.pinimg.com/webapp/reactionHeartOutline-a815c557.svg"},123937:function(e){e.exports="https://s.pinimg.com/webapp/reactionHeartOutlineWhite-5c5e72dc.svg"},181018:function(e){e.exports="https://s.pinimg.com/webapp/thanksAnimated-26647fb2.svg"},749511:function(e){e.exports="https://s.pinimg.com/webapp/thanksGrid-f20b992e.svg"},606166:function(e){e.exports="https://s.pinimg.com/webapp/thanksStatic-aa4e1236.svg"},906644:function(e){e.exports="https://s.pinimg.com/webapp/wowAnimated-7552d60b.svg"},244771:function(e){e.exports="https://s.pinimg.com/webapp/wowGrid-30d235b4.svg"},220134:function(e){e.exports="https://s.pinimg.com/webapp/wowStatic-a1b48543.svg"},917508:function(e,t,i){i.d(t,{Z:()=>s});var n=i(2217);function s(e,t,i){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},750324:function(e,t,i){i.d(t,{Z:()=>r});var n=i(917508);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach(function(t){(0,n.Z)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}},2217:function(e,t,i){i.d(t,{Z:()=>s});var n=i(658133);function s(e){var t=function(e,t){if("object"!=(0,n.Z)(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=(0,n.Z)(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.Z)(t)?t:t+""}},658133:function(e,t,i){i.d(t,{Z:()=>n});function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/ReactionPickerContainer.pt_BR-9beaa808b26eae1a.mjs.map